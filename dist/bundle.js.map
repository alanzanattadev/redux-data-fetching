{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap a2e18890b77336e7cb14","webpack:///external {\"commonjs2\":\"graphql\",\"commonjs\":\"graphql\",\"amd\":\"graphql\"}","webpack:///./lib/graphqlTypesConverters.js","webpack:///./lib/Mutation.js","webpack:///./lib/reducer.js","webpack:///external {\"commonjs2\":\"immutable\",\"commonjs\":\"immutable\",\"amd\":\"immutable\"}","webpack:///./node_modules/normalizr/dist/src/schemas/ImmutableUtils.js","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///./node_modules/normalizr/dist/src/index.js","webpack:///./node_modules/normalizr/dist/src/schemas/Polymorphic.js","webpack:///./lib/utils.js","webpack:///./lib/selectors.js","webpack:///./lib/index.js","webpack:///./lib/TestUtils.js","webpack:///./node_modules/recompose/es/Recompose.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/fbjs/lib/shallowEqual.js","webpack:///./node_modules/hoist-non-react-statics/index.js","webpack:///./node_modules/change-emitter/lib/index.js","webpack:///./node_modules/symbol-observable/index.js","webpack:///./node_modules/symbol-observable/lib/index.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/symbol-observable/lib/ponyfill.js","webpack:///./node_modules/normalizr/dist/src/schemas/Entity.js","webpack:///./node_modules/normalizr/dist/src/schemas/Union.js","webpack:///./node_modules/normalizr/dist/src/schemas/Values.js","webpack:///./node_modules/normalizr/dist/src/schemas/Array.js","webpack:///./node_modules/normalizr/dist/src/schemas/Object.js","webpack:///./lib/configurer.js","webpack:///./lib/middleware.js","webpack:///./lib/Query.js","webpack:///./lib/actions.js","webpack:///./lib/hoc.js"],"names":["isEntity","createEntitiesForTypes","getRecordSchemaForType","createRecordsForTypes","getDefinitionOfType","addDefinitionsForTypes","getConvertersFromSchema","getDataFromResponse","graphQLizr","graphQLRecordr","convertsEntityToRecord","convertsNormalizedEntitiesToRecords","convertsGraphQLResultToRootEntitiesIDs","convertsGraphQLQueryResultToRecords","convertsGraphQLResultToRecords","isGraphQLIntegratedType","typeName","includes","graphQLType","markers","Object","keys","getFields","reduce","red","fieldName","typesMap","assign","Entity","type","undefined","entities","fields","field","name","definition","length","ofType","forEach","define","schema","getNameOfType","entityType","queryTypeConverters","getQueryType","mutationType","getMutationType","mutationTypeConverters","converters","data","key","Array","isArray","_typeMap","getTypeMap","records","entity","graphQLSchema","recordsTypes","console","error","Error","getType","warn","map","v","reduction","entityId","result","set","filter","id","associatedQuery","recordTypes","rootQuery","queries","convertedField","Mutation","mutationQL","variables","onError","onCompleted","operationName","configureReducer","QUERY_PROGRESS_NOT_STARTED","QUERY_PROGRESS_PENDING","QUERY_PROGRESS_SUCCEED","QUERY_PROGRESS_FAILED","ResultsRecord","raw","byQuery","byEntity","QueryRecord","results","progress","DataReducerRecord","normalizrTypes","warnBadIDRequest","supposedId","getID","toString","reducer","state","action","normalizrModel","payload","normalized","JSON","parse","stringify","update","mergeDeepWith","a","b","query","request","hash","response","value","deleteIn","remove","queryID","hashString","hashMutationQuery","generateUUID","getFragmentDefinitions","selectedDataHaveChanged","str","i","char","charCodeAt","d","Date","getTime","performance","now","replace","c","r","Math","random","floor","TypeInfoWithValuesComparator","reducer1","reducer2","queryHash1","queryHash2","_value1Stack","_value2Stack","_reducer1","_reducer2","_queryHash1","_queryHash2","_shouldBreak","node","queryHash","queryResult","getIn","alias","currentType","namedType","lastValue","selectionSet","isList","_getEntityValue","fieldValue","entityName","value1","value2","some","v1","_haveChanged","get","kind","FIELD","getParentType","_schema","_getQueryValue","unshift","push","peek","pop","fragments","FRAGMENT_DEFINITION","enter","typeInfo","declaredFragments","initializedTypeInfo","hasChanged","FRAGMENT_SPREAD","fragmentDefinition","shouldBreak","convertsFieldToSelectorField","convertsTypeToSelectorType","convertsTypeMapToSelectorTypeMap","convertsRootQueryToSelectorRootQuery","convertsTypesSchemaToSelectorSchema","convertsQueryToSelectorQuery","getResolveQuery","resolveQuery","parent","args","context","rootValue","returnType","path","db","getEntityTypeNameFromSelectorTypeName","getResolveEntity","resolveEntity","getSelectorTypeName","substring","getSelectorTypeFromType","convertsArgsArrayToArgsMap","arg","resolver","description","resolve","typeMap","selectorName","newTypeMap","startsWith","selectorTypeMap","__debug","selectorTypesMap","log","typesQuery","selectorTypesQuery","selectorSchema","copiedNode","typeCondition","createTestLab","configure","default","configureProxies","contextValue","configureDispatchProxy","dispatch","onSuccess","onResolve","dispatchProxy","promise","mutation","then","errors","MockView","componentDidMount","props","onMount","componentWillReceiveProps","nextProps","onPropChange","watchedProps","changed","prop","MockViewElement","TestedHOC","reducerName","Subject","proxies","DataLab","SupervisedSubject","graphQLCompiledSchema","recordsModel","actions","middleware","typesSchema","GraphQLConnecter","DataFetcher","DataHandlers","store","next","graphql","queryQL","ql","queryStarted","variableValues","dependencies","packageData","queryFailed","Query","configureActions","mutateData","fetchData","needs","bustQueryCache","removeData","identifiers","configureConnecter","mapMutationsToProps","DataHandlersHOC","Comp","__uniqueID","bind","getReducer","mutationsProps","names","linkedQueries","getLinkedQueries","infos","queryProgressPropName","queryResponsePropName","info","handlerName","mutationsMap","handlers","getLinkedQueryProps","Component","mapPropsToNeeds","mapCacheToProps","shouldRefetch","WrappedComponent","selectedData","queryProgress","getNeeds","selectData","currentReducer","nextReducer","currentNeeds","nextNeeds","nextQuery","currentQuery","mustReselectData","prevProps","warnAgainstEmptyQuery","resetSelection","convertedData","reducerChanged","setState"],"mappings":"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CvC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;;;;AAUA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B,UAAU,qBAAqB;AAC5D;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,uEAAuE,aAAa;AACpF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC;AAClC;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,uEAAuE,aAAa;AACpF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kCAAkC;AAClC;;AAEA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,qDAAqD;AAC3E,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,IAAI;AACP;;AAEA;AACA;AACA,sBAAsB;AACtB;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,uEAAuE,aAAa;AACpF;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;;AAEA;AACA;;AAEA,kCAAkC,yCAAyC;AAC3E;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,uEAAuE,aAAa;AACpF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC;AAClC;;AAEA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,4EAA4E,eAAe;AAC3F;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,uEAAuE,aAAa;AACpF;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,mCAAmC,2BAA2B;AAC9D;;AAEA;AACA;;AAEA,kCAAkC,yCAAyC;AAC3E;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C;AAC5C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,uEAAuE,aAAa;AACpF;AACA;;AAEA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,oEAAoE;AACpE;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC;AAClC;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kEAAkE,aAAa;AAC/E;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uEAAuE,aAAa;AACpF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,uEAAuE,aAAa;AACpF;AACA;;AAEA,wJAAwJ,aAAa;AACrK;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,aAAa;AACb,oBAAoB;AACpB;AACA,SAAS;AACT;AACA,SAAS;AACT;;AAEA;;;AAGA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B,aAAa;AAC1C;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,gBAAgB;AAChB;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEQ;;;;;;;;AC9iCR;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;ACvLtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8B;;;;;;;AClEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,8CAA8C;AAC9C;;AAEA;AACA;AACA;AACA;;AAEA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;ACjDA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,E;;;;;;AClDA;;;;;;;;sDCAA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F,SAAS;;;AAGT;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA;;AAEA;AACA,4B;;;;;;;AC5BA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;ACrBA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA,E;;;;;;;ACtBA;;AAEA;AACA;AACA,CAAC;;AAED,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q,2CAA2C,kBAAkB,kCAAkC,qEAAqE,EAAE,EAAE,OAAO,kBAAkB,EAAE,YAAY;;AAE/M,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,KAAK;AACL;AACA;AACA,wBAAwB;AACxB,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAA0B,kCAAkC;AAC5D,OAAO,mBAAmB;AAC1B;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED,+B;;;;;;;AC7HA;;AAEA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED,8B;;;;;;;AC/CA;;AAEA;AACA;AACA,CAAC;;AAED,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,2CAA2C,kBAAkB,kCAAkC,qEAAqE,EAAE,EAAE,OAAO,kBAAkB,EAAE,YAAY;;AAE/M,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,kEAAkE,4BAA4B;AAC9F,OAAO,IAAI;AACX;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,4BAA4B;AACtD,OAAO,IAAI;AACX;AACA,GAAG;;AAEH;AACA,CAAC;;AAED,+B;;;;;;;AC1DA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA,CAAC;;AAED,8B;;;;;;;AC3FA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q,2CAA2C,kBAAkB,kCAAkC,qEAAqE,EAAE,EAAE,OAAO,kBAAkB,EAAE,YAAY;;AAE/M,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAA0B,kCAAkC;AAC5D,OAAO,mBAAmB;AAC1B;AACA,GAAG;AACH;AACA;AACA,qEAAqE,aAAa;AAClF;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,wEAAwE,eAAe;AACvF;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED,+B;;;;;;;;AC1FA;;;;;QAYgB7B,S,GAAAA,S;;AAVhB;;AACA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AAEO,SAASA,SAAT,CACL/K,aADK,EAELiJ,OAFK,EAGLC,SAHK,EAKL;AAAA,iFAD6C,EAC7C;AAAA,0BADEoB,OACF;AAAA,MADEA,OACF,gCADY,KACZ;;AACA,MAAMuC,wBACJ,OAAO7M,aAAP,KAAyB,QAAzB,GACI,0BAAYA,aAAZ,CADJ,GAEIA,aAHN;AAIA,MAAM2K,iBAAiB,oDACrBkC,qBADqB,EAErB,EAAEvC,gBAAF,EAFqB,CAAvB;AAIA,MAAMvH,iBAAiB,wCAAW8J,qBAAX,CAAvB;AACA,MAAMC,eAAe,4CAAeD,qBAAf,CAArB;AACA,MAAME,UAAU,wBAAhB;AACA,MAAMC,aAAa,0BACjBH,qBADiB,EAEjBE,OAFiB,EAGjBhK,cAHiB,EAIjBkG,OAJiB,EAKjBC,SALiB,CAAnB;AAOA,MAAMtG,UAAU,uBACdG,eAAezE,QADD,EAEdwO,YAFc,EAGdD,qBAHc,CAAhB;;AAnBA,4BAwBwD,mBAAmB;AACzElC,kCADyE;AAEzEsC,iBAAaJ,qBAF4D;AAGzE7L,iBAAa8L,YAH4D;AAIzEC;AAJyE,GAAnB,CAxBxD;AAAA,MAwBQG,gBAxBR,uBAwBQA,gBAxBR;AAAA,MAwB0BC,WAxB1B,uBAwB0BA,WAxB1B;AAAA,MAwBuCC,YAxBvC,uBAwBuCA,YAxBvC;;AA8BA,SAAO;AACLL,oBADK;AAELC,0BAFK;AAGLpK,oBAHK;AAILG,kCAJK;AAKL+J,8BALK;AAMLnC,kCANK;AAOLuC,sCAPK;AAQLC,4BARK;AASLC;AATK,GAAP;AAWD,C;;;;;;;;;;;;;kBChDc,UACbrO,MADa,EAEbgO,OAFa,EAGbhK,cAHa,EAIbkG,OAJa,EAKbC,SALa,EAMS;AACtB,SAAO,UAACmE,KAAD;AAAA,WAAoC,UACzCC,IADyC;AAAA,aAEtC,UAACxK,MAAD,EAAoB;AACvB,YACE,CAACA,OAAO1E,IAAP,KAAgB,eAAhB,IAAmC0E,OAAO1E,IAAP,KAAgB,kBAApD,KACA0E,OAAOyK,OAFT,EAGE;AACA,cAAIzK,OAAO1E,IAAP,KAAgB,eAApB,EAAqC;AACnC,gBAAMqF,QACJX,OAAOE,OAAP,8BACIF,OAAOE,OAAP,CAAewK,OADnB,GAEI1K,OAAOE,OAHb;AAIA,gBAAMW,OAAO,uBAAWF,KAAX,CAAb;AACA,gBAAMC,UAAU;AACd+J,kBAAIhK,KADU;AAEdE;AAFc,aAAhB;;AAKA0J,kBAAMjC,QAAN,CAAe2B,QAAQW,YAAR,CAAqB,EAAEhK,gBAAF,EAArB,CAAf;AACA,gBAAMiK,iBACJ7K,OAAOE,OAAP,8BAAkCF,OAAOE,OAAP,CAAe1B,SAAjD,GAA6D,EAD/D;AAEA,gBAAMG,gBACJqB,OAAOE,OAAP,8BACIF,OAAOE,OAAP,CAAevB,aADnB,GAEIpD,SAHN;AAIA,kCACEU,MADF,EAEE0E,KAFF,EAGEyF,SAHF,EAIE;AACEmE,0BADF;AAEEO,4BAAc3E;AAFhB,aAJF,EAQE0E,cARF,EASElM,aATF,EAUEiK,IAVF,CAUO,kBAAU;AACf,kBAAI/K,OAAOgL,MAAP,KAAkBtN,SAAlB,IAA+BsC,OAAOnB,IAA1C,EAAgD;AAC9C6N,sBAAMjC,QAAN,CACE2B,QAAQc,WAAR,CACE,iDAAoB9K,eAAexD,UAAnC,EAA+CoB,OAAOnB,IAAtD,CADF,EAEE;AACEkE,kCADF;AAEEE,4BAAU;AACR5B,yBAAKrB,OAAOnB;AADJ;AAFZ,iBAFF,CADF;AAWD,eAZD,MAYO;AACLU,wBAAQC,KAAR,CACE,eADF,EAEEsD,KAFF,EAGE,eAHF,EAIE,SAJF,EAKE9C,OAAOgL,MALT;AAOA0B,sBAAMjC,QAAN,CAAe2B,QAAQe,WAAR,CAAoB,EAAEpK,gBAAF,EAApB,EAAiC/C,OAAOgL,MAAxC,CAAf;AACD;AACF,aAjCD;AAkCD,WApDD,MAoDO;AACL,gBAAMF,WAAqB3I,OAAOE,OAAP,CAAeyI,QAA1C;AACA,gBAAM9H,QAAOb,OAAOE,OAAP,CAAegB,OAA5B;AACA,gBAAMN,WAAU;AACd+J,kBAAIhC,SAASpK,UADC;AAEdsC;AAFc,aAAhB;AAIA0J,kBAAMjC,QAAN,CAAe2B,QAAQW,YAAR,CAAqB,EAAEhK,iBAAF,EAArB,CAAf;AACA,kCACE3E,MADF,EAEE0M,SAASpK,UAFX,EAGE6H,SAHF,EAIE;AACEmE,0BADF;AAEEO,4BAAc3E;AAFhB,aAJF,EAQEwC,SAASnK,SARX,EASEmK,SAAShK,aATX,EAUEiK,IAVF,CAUO,kBAAU;AACf,kBAAI/K,OAAOgL,MAAP,KAAkBtN,SAAlB,IAA+BsC,OAAOnB,IAA1C,EAAgD;AAC9C6N,sBAAMjC,QAAN,CACE2B,QAAQc,WAAR,CACE,iDAAoB9K,eAAexD,UAAnC,EAA+CoB,OAAOnB,IAAtD,CADF,EAEE;AACEkE,mCADF;AAEEE,4BAAU;AACR5B,yBAAKrB,OAAOnB;AADJ;AAFZ,iBAFF,CADF;AAWAiM,yBAASjK,WAAT;AACD,eAbD,MAaO;AACLtB,wBAAQC,KAAR,CACE,kBADF,EAEEsL,SAASpK,UAFX,EAGE,eAHF,EAIE,SAJF,EAKEV,OAAOgL,MALT;AAOA0B,sBAAMjC,QAAN,CAAe2B,QAAQe,WAAR,CAAoB,EAAEpK,iBAAF,EAApB,EAAiC/C,OAAOgL,MAAxC,CAAf;AACAF,yBAASlK,OAAT;AACD;AACF,aAnCD;AAoCD;AACF,SArGD,MAqGO;AACL,iBAAO+L,KAAKxK,MAAL,CAAP;AACD;AACF,OA3G0C;AAAA,KAApC;AAAA,GAAP;AA4GD,C;;AAzHD;;AACA;;AACA;;AACA;;;;AACA;;;;;;;;;;;;;;;;;;;;;ICNqBiL,K;AAOnB,mBAcE;AAAA,mFADI,EACJ;AAAA,QAZEP,OAYF,QAZEA,OAYF;AAAA,8BAXElM,SAWF;AAAA,QAXEA,SAWF,kCAXc,EAWd;AAAA,4BAVEC,OAUF;AAAA,QAVEA,OAUF,gCAVY,YAAM,CAAE,CAUpB;AAAA,gCATEC,WASF;AAAA,QATEA,WASF,oCATgB,YAAM,CAAE,CASxB;AAAA,QAREC,aAQF,QAREA,aAQF;;AAAA;;AACA,QAAI+L,WAAW,IAAf,EAAqB;AACnB,YAAM,IAAIpN,KAAJ,CACJ,yFADI,CAAN;AAGD;AACD,SAAKoN,OAAL,GAAeA,OAAf;AACA,SAAKlM,SAAL,GAAiBA,SAAjB;AACA,SAAKC,OAAL,GAAeA,OAAf;AACA,SAAKC,WAAL,GAAmBA,WAAnB;AACA,SAAKC,aAAL,GAAqBA,aAArB;AACD;;;;qCAEgBhD,I,EAAc;AAC7B,aAAO,IAAIsP,KAAJ,CAAU;AACfP,iBAAS,KAAKA,OADC;AAEflM,mBAAW,KAAKA,SAFD;AAGfC,iBAAS,KAAKA,OAHC;AAIfC,qBAAa,KAAKA,WAJH;AAKfC,uBAAehD;AALA,OAAV,CAAP;AAOD;;;;;;kBA1CkBsP,K;;;;;;;;ACFrB;;;;;kBAiBwBC,gB;;AAdxB;;;;;;AAce,SAASA,gBAAT,GAA4B;AACzC,SAAO;AACLC,cADK,sBACMxC,QADN,EAC0BzH,OAD1B,EAC2C;AAC9C,aAAO;AACL5F,cAAM,kBADD;AAELmP,iBAAS,IAFJ;AAGLvK,iBAAS;AACPyI,4BADO;AAEPzH;AAFO;AAHJ,OAAP;AAQD,KAVI;AAWLkK,aAXK,qBAWKC,KAXL,EAWoB;AACvB,aAAO;AACL/P,cAAM,eADD;AAELmP,iBAAS,IAFJ;AAGLvK,iBAASmL;AAHJ,OAAP;AAKD,KAjBI;AAkBLC,kBAlBK,0BAkBUpK,OAlBV,EAkB2B;AAC9B,aAAO;AACL5F,cAAM,oBADD;AAEL4E,iBAAS;AACPgB;AADO;AAFJ,OAAP;AAMD,KAzBI;AA0BL6J,eA1BK,uBA0BOrO,IA1BP,EA0BqBiE,KA1BrB,EA0B2C;AAC9C,aAAO;AACLrF,cAAM,eADD;AAEL4E,iBAAS;AACP1E,oBAAUkB,IADH;AAEPiE;AAFO;AAFJ,OAAP;AAOD,KAlCI;AAmCLiK,gBAnCK,wBAmCQjK,KAnCR,EAmC6B;AAChC,aAAO;AACLrF,cAAM,eADD;AAEL4E,iBAAS;AACPS;AADO;AAFJ,OAAP;AAMD,KA1CI;AA2CL4K,cA3CK,sBA2CMC,WA3CN,EAiDF;AACD,aAAO;AACLlQ,cAAM,cADD;AAEL4E,iBAASsL;AAFJ,OAAP;AAID,KAtDI;AAuDLR,eAvDK,uBAuDOrK,KAvDP,EAuD4BkI,MAvD5B,EAuDmD;AACtD,aAAO;AACLvN,cAAM,cADD;AAEL4E,iBAAS;AACPS,sBADO;AAEPkI;AAFO;AAFJ,OAAP;AAOD;AA/DI,GAAP;AAiED,C;;;;;;;;ACnFD;;;;;;;;;;kBAwBwB4C,kB;;AArBxB;;;;AACA;;AACA;;AACA;;AACA;;AAMA;;AAEA;;;;AACA;;;;;;;;;;;;AAQe,SAASA,kBAAT,GAcb;AAAA,iFADI,EACJ;AAAA,MAZEtB,WAYF,QAZEA,WAYF;AAAA,MAXEtC,cAWF,QAXEA,cAWF;AAAA,MAVE3J,WAUF,QAVEA,WAUF;AAAA,8BATEwL,WASF;AAAA,MATEA,WASF,oCATgB,MAShB;AAAA,MAREO,OAQF,QAREA,OAQF;;AACA,MAAIE,gBAAgB5O,SAApB,EAA+B;AAC7B,UAAM,IAAI+B,KAAJ,CACJ,gEACE6M,WAFE,CAAN;AAID;AACD,MAAItC,mBAAmBtM,SAAvB,EAAkC;AAChC,UAAM,IAAI+B,KAAJ,CACJ,wEACEuK,cAFE,CAAN;AAID;;AAED,WAASyC,YAAT,QAQG;AAAA,QAPDoB,mBAOC,SAPDA,mBAOC;;AACD,WAAO,SAASC,eAAT,CACLC,IADK,EAEkC;AACvC;AAAA;;AAQE,uCAAY5C,KAAZ,EAAmB;AAAA;;AAAA,oJACXA,KADW;;AAGjB,gBAAKhL,EAAL,GAAUgL,MAAM6C,UAAN,IAAoB,0BAA9B;AACA,gBAAKP,cAAL,GAAsB,MAAKA,cAAL,CAAoBQ,IAApB,OAAtB;AAJiB;AAKlB;;AAbH;AAAA;AAAA,qCAea9C,KAfb,EAeoB;AAChB,mBAAOA,MAAMU,WAAN,CAAP;AACD;AAjBH;AAAA;AAAA,2CAkBmBV,KAlBnB,EAkB0B;AAAA;;AACtB,gBAAMlJ,UAAU,KAAKiM,UAAL,CAAgB/C,KAAhB,CAAhB;AACA,gBAAM5K,UAAU0B,QAAQ1B,OAAxB;AACA,gBAAM4N,iBAAiBN,oBAAoB1C,KAApB,CAAvB;AACA,gBAAMiD,QAAQpR,OAAOC,IAAP,CAAYkR,cAAZ,CAAd;AACA,gBAAME,gBAAgBD,MAAMxO,GAAN,CAAU;AAAA,qBAAS;AACvC9B,0BADuC;AAEvCgF,uBAAOvC,QAAQiG,GAAR,CAAY,8BAAkB1I,IAAlB,EAAwB,OAAKqC,EAA7B,EAAiC6B,QAAjC,EAAZ;AAFgC,eAAT;AAAA,aAAV,CAAtB;AAIA,mBAAOqM,aAAP;AACD;AA5BH;AAAA;AAAA,8CA8BsBlD,KA9BtB,EA8B6B;AACzB,gBAAMkD,gBAAgB,KAAKC,gBAAL,CACpBnD,KADoB,EAEpBhO,MAFoB,CAEb,UAACC,GAAD,EAAMmR,KAAN,EAAgB;AAAA;;AACvB,kBAAMC,wBAA2BD,MAAMzQ,IAAjC,kBAAN;AACA,kBAAM2Q,wBAA2BF,MAAMzQ,IAAjC,kBAAN;AACA,kCACKV,GADL,8CAEGoR,qBAFH,EAE2BD,MAAMzL,KAAN,GACrByL,MAAMzL,KAAN,CAAYpB,QADS,sCAF3B,8BAKG+M,qBALH,EAK2BF,MAAMzL,KAAN,GACrByL,MAAMzL,KAAN,CAAYrB,OAAZ,CAAoBJ,GADC,GAErB,IAPN;AASD,aAdqB,EAcnB,EAdmB,CAAtB;AAeA,mBAAOgN,aAAP;AACD;AA/CH;AAAA;AAAA,iDAiDyB;AAAA;;AACrB,iBAAKC,gBAAL,CAAsB,KAAKnD,KAA3B,EAAkCjN,OAAlC,CAA0C,gBAAQ;AAChD,qBAAKuP,cAAL,CAAoBiB,KAAK5Q,IAAzB;AACD,aAFD;AAGD;AArDH;AAAA;AAAA,yCAuDiB6Q,WAvDjB,EAuDsC;AAClC,iBAAKxD,KAAL,CAAWV,QAAX,CACE2B,QAAQqB,cAAR,CAAuB,8BAAkBkB,WAAlB,EAA+B,KAAKxO,EAApC,CAAvB,CADF;AAGD;AA3DH;AAAA;AAAA,mCA6DW;AAAA;;AACP,gBAAM8B,UAAU,KAAKiM,UAAL,CAAgB,KAAK/C,KAArB,CAAhB;AACA,gBAAI,CAAClJ,OAAL,EACE,MAAM,IAAIxC,KAAJ,gEACyDoM,WADzD,OAAN;;AAIF,gBAAI,CAAC,KAAKV,KAAL,CAAWV,QAAhB,EACE,MAAM,IAAIhL,KAAJ,CACJ,sDADI,CAAN;;AAIF,gBAAMmP,eAAef,oBAAoB,KAAK1C,KAAzB,CAArB;AACA,gBAAM0D,WAAW7R,OAAOC,IAAP,CAAY2R,YAAZ,EAA0BzR,MAA1B,CAAiC,UAACC,GAAD,EAAM0B,GAAN,EAAc;AAC9D,kBAAI,OAAO8P,aAAa9P,GAAb,CAAP,KAA6B,UAAjC,EAA6C;AAC3C,sBAAM,IAAIW,KAAJ,0EACmEX,GADnE,uBAAN;AAGD;AACD,kCACK1B,GADL,sBAEG0B,GAFH,EAES,YAAa;AAClB,oBAAMgM,WAAW8D,aAAa9P,GAAb,gCAAjB;AACA,oBAAIgM,sCAAJ,EAAkC;AAChC,sBAAM3I,SAASiK,QAAQkB,UAAR,CACbxC,QADa,EAEb,8BAAkBhM,GAAlB,EAAuB,OAAKqB,EAA5B,CAFa,CAAf;AAIA,yBAAKgL,KAAL,CAAWV,QAAX,CAAoBtI,MAApB;AACD,iBAND,MAMO,IAAI2I,QAAJ,EAAc;AACnBvL,0BAAQC,KAAR,CACE,gFADF,EAEEV,GAFF,EAGE,oCAHF;AAKD,iBANM,MAMA;AACL;AACD;AACF,eAnBH;AAqBD,aA3BgB,EA2Bd,EA3Bc,CAAjB;AA4BA,gBAAMyB,UAAU,KAAKuO,mBAAL,CAAyB,KAAK3D,KAA9B,CAAhB;AACA,mBACE,8BAAC,IAAD,eACM,KAAKA,KADX,EAEM0D,QAFN,EAGMtO,OAHN;AAIE,8BAAgB,KAAKkN;AAJvB,eADF;AAQD;AA/GH;;AAAA;AAAA,QAA2C,gBAAMsB,SAAjD;AAiHD,KApHD;AAqHD;;AAED,WAASvC,WAAT,QAcG;AAAA,QAbDwC,eAaC,SAbDA,eAaC;AAAA,sCAZDC,eAYC;AAAA,QAZDA,eAYC,yCAZiB;AAAA,aAAO,EAAP;AAAA,KAYjB;AAAA,oCAXDC,aAWC;AAAA,QAXDA,aAWC,uCAXe;AAAA,aAAM,KAAN;AAAA,KAWf;AAAA,sCAVDV,qBAUC;AAAA,QAVDA,qBAUC,yCAVuB,eAUvB;;AACD,WAAOjC,iBAAiByC,eAAjB,EAAkCC,eAAlC,EAAmDC,aAAnD,EAAkE;AACvEV;AADuE,KAAlE,CAAP;AAGD;;AAED,WAASjC,gBAAT,CACEyC,eADF,EAWE;AAAA,QATAC,eASA,uEALW;AAAA,aAAO,EAAP;AAAA,KAKX;AAAA,QAJAC,aAIA,uEAJ6D;AAAA,aAAM,KAAN;AAAA,KAI7D;;AAAA,oFADwC,EACxC;AAAA,sCAFEV,qBAEF;AAAA,QAFEA,qBAEF,yCAF0B,eAE1B;;AACA,WAAO,UACLW,gBADK,EAEkC;AACvC;AAAA;;AAGE,kCAAYhE,KAAZ,EAAmB;AAAA;;AAAA,2IACXA,KADW;;AAGjB,iBAAKjJ,KAAL,GAAa;AACXkN,0BAAc,EADH;AAEXC;AAFW,WAAb;AAHiB;AAOlB;;AAVH;AAAA;AAAA,8CAYsB;AAClB,iBAAKC,QAAL;AACA,iBAAKC,UAAL,CAAgB,KAAKpE,KAArB;AACD;AAfH;AAAA;AAAA,qCAiBaA,KAjBb,EAiBoB;AAChB,mBAAOA,MAAMU,WAAN,CAAP;AACD;AAnBH;AAAA;AAAA,2CAqBmBV,KArBnB,EAqB0BG,SArB1B,EAqBqC;AACjC,gBAAMkE,iBAAiB,KAAKtB,UAAL,CAAgB/C,KAAhB,CAAvB;AACA,gBAAMsE,cAAc,KAAKvB,UAAL,CAAgB5C,SAAhB,CAApB;AACA,gBAAMoE,eAAeV,gBAAgB7D,KAAhB,CAArB;AACA,gBAAMwE,YAAYX,gBAAgB1D,SAAhB,CAAlB;AACA,gBAAIqE,cAAcD,YAAlB,EAAgC,OAAO,IAAP;AAChC,gBAAM1M,OACJ0M,gBAAgB,IAAhB,GAAuB,uBAAWA,YAAX,EAAyB1N,QAAzB,EAAvB,GAA6D,IAD/D;AAEA,gBAAIgB,QAAQ,IAAZ,EAAkB;AAChB,kBAAM4M,YAAYH,YAAYhK,KAAZ,CAAkB,CAAC,SAAD,EAAYzC,IAAZ,CAAlB,CAAlB;AACA,kBAAM6M,eAAeL,eAAe/J,KAAf,CAAqB,CAAC,SAAD,EAAYzC,IAAZ,CAArB,CAArB;AACA,kBAAI4M,cAAcC,YAAlB,EAAgC,OAAO,IAAP,CAAhC,KACK,IAAIJ,YAAY9R,QAAZ,KAAyB6R,eAAe7R,QAA5C,EAAsD;AACzD,uBAAO,oCAAwB;AAC7BS,0BAAQkO,WADqB;AAE7BxJ,yBAAO4M,YAFsB;AAG7BnK,6BAAWvC,IAHkB;AAI7B2B,4BAAU6K,cAJmB;AAK7B5K,4BAAU6K;AALmB,iBAAxB,CAAP;AAOD,eARI,MAQE;AACL,uBAAO,KAAP;AACD;AACF,aAfD,MAeO;AACL,qBAAO,KAAP;AACD;AACF;AA/CH;AAAA;AAAA,oDAiD4BnE,SAjD5B,EAiD8C;AAC1C,gBAAI,KAAKwE,gBAAL,CAAsB,KAAK3E,KAA3B,EAAkCG,SAAlC,CAAJ,EAAkD;AAChD,mBAAKiE,UAAL,CAAgBjE,SAAhB;AACD;AACF;AArDH;AAAA;AAAA,6CAuDqByE,SAvDrB,EAuDuC;AACnC,gBACEf,gBAAgB,KAAK7D,KAArB,KAA+B6D,gBAAgBe,SAAhB,CAA/B,IACAb,cAAc,KAAK/D,KAAnB,EAA0B4E,SAA1B,CAFF,EAGE;AACA,mBAAKT,QAAL;AACD;AACF;AA9DH;AAAA;AAAA,kDAgE0B;AACtB/P,oBAAQI,IAAR,CACE,kHADF;AAGD;AApEH;AAAA;AAAA,qCAsEawL,KAtEb,EAsE4B;AAAA;;AACxB,gBAAMrI,QAAQkM,gBAAgB7D,KAAhB,CAAd;AACA,gBAAMlJ,UAAU,KAAKiM,UAAL,CAAgB/C,KAAhB,CAAhB;AACA,gBAAIrI,UAAU,IAAV,IAAkBA,UAAU,KAAhC,EAAuC;AACrC,mBAAKkN,qBAAL;AACA,mBAAKC,cAAL;AACD,aAHD,MAGO,IAAInN,SAAS,IAAb,EAAmB;AACxB,kBAAME,OAAO,uBAAWF,KAAX,EAAkBd,QAAlB,EAAb;AACA,kBAAImJ,MAAMxB,OAAV,EAAmB;AACjBpK,wBAAQsK,GAAR,CACE,yBADF,EAEE7G,IAFF,EAGE,WAHF,EAIEgB,KAAKG,GAAL,EAJF;AAMD;AACD,oCACE6F,cADF,EAEE,oBAAM,6CAA6BlH,KAA7B,CAAN,CAFF,EAGE,IAHF,EAIE;AACE4F,oBAAIzG,OADN;AAEEsD,2BAAWvC;AAFb,eAJF,EAQE+H,IARF,CAQO,kBAAU;AACf,oBAAI/K,OAAOgL,MAAP,KAAkBtN,SAAlB,IAA+BsC,OAAOnB,IAAP,IAAe,IAAlD,EAAwD;AACtDU,0BAAQC,KAAR,CACE,qDADF,EAEEsD,KAFF,EAGE,SAHF,EAIE9C,OAAOgL,MAJT;AAMD,iBAPD,MAOO;AACL,sBAAIG,MAAMxB,OAAV,EAAmB;AACjBpK,4BAAQsK,GAAR,CACE,eADF,EAEE7J,OAAOnB,IAFT,EAGE,UAHF,EAIEmE,IAJF,EAKE,cALF,EAMEf,OANF,EAOE,WAPF,EAQE+B,KAAKG,GAAL,EARF;AAUD;AACD,sBAAM+L,gBAAgB,4DACpBlQ,OAAOnB,IADa,EAEpByN,WAFoB,EAGpBjM,WAHoB,CAAtB;AAKA,sBAAM8P,iBAAiB,OAAKjC,UAAL,CAAgB/C,KAAhB,MAA2BlJ,OAAlD;AACA,sBAAIkJ,MAAMxB,OAAV,EAAmB;AACjBpK,4BAAQsK,GAAR,CACE,gBADF,EAEE7J,OAAOnB,IAFT,EAGE,MAHF,EAIEqR,aAJF,EAKE,UALF,EAME,cANF,EAOEjO,OAPF,EAQEkO,iBAAiB,4BAAjB,GAAgD,EARlD,EASEA,iBAAiB,OAAKjC,UAAL,CAAgB/C,KAAhB,CAAjB,GAA0C,EAT5C,EAUEgF,iBAAiB,uBAAjB,GAA2C,EAV7C;AAYD;AACD,sBAAIA,cAAJ,EAAoB;AAClB,2BAAKZ,UAAL,CAAgBpE,KAAhB;AACD,mBAFD,MAEO;AACL,wBAAMkE,gBAAgBpN,QAAQwD,KAAR,CACpB,CAAC,SAAD,EAAYzC,IAAZ,EAAkB,UAAlB,CADoB,sCAAtB;AAIA,2BAAKoN,QAAL,CAAc;AAAA,6BAAU;AACtBhB,sCAAcc,aADQ;AAEtBb;AAFsB,uBAAV;AAAA,qBAAd;AAID;AACF;AACF,eA9DD;AA+DD,aAzEM,MAyEA;AACL,mBAAKY,cAAL;AACD;AACF;AAxJH;AAAA;AAAA,2CA0JmB;AACf,iBAAKG,QAAL,CAAc;AAAA,qBAAU;AACtBhB,8BAAc,EADQ;AAEtBC;AAFsB,eAAV;AAAA,aAAd;AAID;AA/JH;AAAA;AAAA,qCAiKa;AACT,gBAAM7B,QAAQwB,gBAAgB,KAAK7D,KAArB,CAAd;AACA,gBAAIqC,UAAU,IAAV,IAAkBA,UAAU,KAAhC,EAAuC;AACrC,mBAAKwC,qBAAL;AACD,aAFD,MAEO,IAAIxC,SAAS,IAAb,EAAmB;AACxB,mBAAKrC,KAAL,CAAWV,QAAX,CAAoB2B,QAAQmB,SAAR,CAAkBC,KAAlB,CAApB;AACD;AACF;AAxKH;AAAA;AAAA,mCA0KW;AAAA;;AACP,gBAAMvL,UAAU,KAAKiM,UAAL,CAAgB,KAAK/C,KAArB,CAAhB;AACA,gBAAI,CAAClJ,OAAL,EACE,MAAM,IAAIxC,KAAJ,oEAC6DoM,WAD7D,OAAN;AAGF,gBAAI,CAAC,KAAKV,KAAL,CAAWV,QAAhB,EACE,MAAM,IAAIhL,KAAJ,CACJ,0DADI,CAAN;AAGF,mBACE,8BAAC,gBAAD,eACM,KAAK0L,KADX,EAEM,KAAKjJ,KAAL,CAAWkN,YAFjB,EAGMH,gBACF,KAAK9D,KAAL,CAAWtM,IADT,EAEF,KAAKsM,KAFH,EAGF,KAAKjJ,KAAL,CAAWkN,YAHT,CAHN,sBASKZ,qBATL,EAS6B,KAAKtM,KAAL,CAAWmN,aATxC;AAWE,uBAAS;AAAA,uBAAM,OAAKC,QAAL,EAAN;AAAA;AAXX,eADF;AAeD;AAnMH;;AAAA;AAAA,QAAsC,gBAAMP,SAA5C;AAqMD,KAxMD;AAyMD;AACD,SAAO,EAAExC,kCAAF,EAAoBE,0BAApB,EAAkCD,wBAAlC,EAAP;AACD,C","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"graphql\"), require(\"immutable\"), require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"graphql\", \"immutable\", \"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReduxDataFetching\"] = factory(require(\"graphql\"), require(\"immutable\"), require(\"react\"));\n\telse\n\t\troot[\"ReduxDataFetching\"] = factory(root[undefined], root[undefined], root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_6__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a2e18890b77336e7cb14","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs2\":\"graphql\",\"commonjs\":\"graphql\",\"amd\":\"graphql\"}\n// module id = 0\n// module chunks = 0","\"use babel\";\r\n// @flow\r\n\r\nimport { schema } from \"normalizr\";\r\nimport {\r\n  printSchema,\r\n  graphql,\r\n  GraphQLObjectType,\r\n  GraphQLSchema,\r\n  GraphQLString,\r\n  GraphQLFloat,\r\n  GraphQLList,\r\n  GraphQLInt,\r\n  GraphQLBoolean,\r\n  GraphQLID,\r\n  GraphQLEnumType,\r\n  getNullableType,\r\n  getNamedType,\r\n} from \"graphql\";\r\nimport type {\r\n  GraphQLSchema as GraphQLSchemaType,\r\n  GraphQLNamedType,\r\n  GraphQLType,\r\n  GraphQLOutputType,\r\n  GraphQLField,\r\n} from \"graphql\";\r\nimport { Record, Map, List } from \"immutable\";\r\nimport type { Record as RecordType } from \"immutable\";\r\n\r\ntype RecordTypes = { [typeName: string]: RecordType<*> };\r\n\r\nfunction isGraphQLIntegratedType(typeName: string): boolean {\r\n  return [\r\n    \"String\",\r\n    \"Boolean\",\r\n    \"Int\",\r\n    \"ID\",\r\n    \"Float\",\r\n    \"__Schema\",\r\n    \"__Type\",\r\n    \"__TypeKind\",\r\n    \"__Field\",\r\n    \"__InputValue\",\r\n    \"__EnumValue\",\r\n    \"__Directive\",\r\n    \"__DirectiveLocation\",\r\n  ].includes(typeName);\r\n}\r\n\r\nexport function isEntity(\r\n  graphQLType: GraphQLNamedType,\r\n  markers: Array<string> = [\"id\"],\r\n): boolean {\r\n  return (\r\n    graphQLType instanceof GraphQLObjectType &&\r\n    Object.keys(graphQLType.getFields()).reduce(\r\n      (red, fieldName) => red || markers.includes(fieldName),\r\n      false,\r\n    )\r\n  );\r\n}\r\n\r\nexport function createEntitiesForTypes(\r\n  typesMap: { [typeName: string]: GraphQLNamedType },\r\n  markers: Array<string>,\r\n): { [typeName: string]: schema.Entity } {\r\n  return Object.keys(typesMap).reduce(\r\n    (red, typeName) =>\r\n      isGraphQLIntegratedType(typeName) ||\r\n      !isEntity(typesMap[typeName], markers)\r\n        ? red\r\n        : Object.assign(red, { [typeName]: new schema.Entity(typeName) }, {}),\r\n    {},\r\n  );\r\n}\r\n\r\nexport function getRecordSchemaForType(\r\n  type: GraphQLObjectType,\r\n): { [fieldName: string]: typeof undefined } {\r\n  return Object.keys(type.getFields()).reduce(\r\n    (red, fieldName) => Object.assign({}, red, { [fieldName]: undefined }),\r\n    {},\r\n  );\r\n}\r\n\r\nexport function createRecordsForTypes(typesMap: {\r\n  [typeName: string]: $FlowFixMe,\r\n}) {\r\n  return Object.keys(typesMap).reduce(\r\n    (red, typeName) =>\r\n      isGraphQLIntegratedType(typeName) ||\r\n      !(typesMap[typeName] instanceof GraphQLObjectType)\r\n        ? red\r\n        : Object.assign(red, {\r\n            [typeName]: Record(\r\n              getRecordSchemaForType(typesMap[typeName]),\r\n              typeName,\r\n            ),\r\n          }),\r\n    {},\r\n  );\r\n}\r\n\r\nexport function getDefinitionOfType(\r\n  graphQLType: GraphQLType,\r\n  entities: { [typeName: string]: schema.Entity },\r\n) {\r\n  if (graphQLType instanceof GraphQLObjectType) {\r\n    const fields = Object.keys(\r\n      graphQLType.getFields(),\r\n    ).reduce((red, fieldName) => {\r\n      // $FlowFixMe\r\n      const field = graphQLType.getFields()[fieldName];\r\n      // $FlowFixMe\r\n      if (field.type.name in entities)\r\n        return Object.assign({}, red, {\r\n          // $FlowFixMe\r\n          [fieldName]: entities[field.type.name],\r\n        });\r\n      else {\r\n        const definition = getDefinitionOfType(field.type, entities);\r\n        if (definition)\r\n          return Object.assign({}, red, { [fieldName]: definition });\r\n        else return red;\r\n      }\r\n    }, {});\r\n    if (Object.keys(fields).length > 0) return fields;\r\n    else return undefined;\r\n  } else if (graphQLType instanceof GraphQLList) {\r\n    if (graphQLType.ofType.name in entities)\r\n      return [entities[graphQLType.ofType.name]];\r\n    else return undefined;\r\n  } else {\r\n    return undefined;\r\n  }\r\n}\r\n\r\nexport function addDefinitionsForTypes(\r\n  typesMap: { [typeName: string]: GraphQLNamedType },\r\n  entities: { [typeName: string]: schema.Entity },\r\n): void {\r\n  Object.keys(typesMap).forEach(typeName => {\r\n    if (\r\n      isGraphQLIntegratedType(typeName) === false &&\r\n      entities[typeName] instanceof schema.Entity\r\n    ) {\r\n      const definition = getDefinitionOfType(typesMap[typeName], entities);\r\n      entities[typeName].define(definition || {});\r\n    }\r\n  });\r\n}\r\n\r\nexport function getConvertersFromSchema(\r\n  schema: GraphQLSchemaType,\r\n): { [fieldName: string]: string } {\r\n  function getNameOfType(type: GraphQLOutputType): string {\r\n    let entityType;\r\n    if (type instanceof GraphQLList) entityType = getNamedType(type).name;\r\n    else if (type instanceof GraphQLEnumType) entityType = type.name;\r\n    else entityType = getNamedType(type).name;\r\n    return entityType;\r\n  }\r\n\r\n  const queryTypeConverters = Object.keys(\r\n    schema.getQueryType().getFields(),\r\n  ).reduce((red, field) => {\r\n    const type = schema.getQueryType().getFields()[field].type;\r\n    const entityType = getNamedType(type);\r\n    return Object.assign({}, red, { [field]: entityType });\r\n  }, {});\r\n\r\n  const mutationType = schema.getMutationType();\r\n  const mutationTypeConverters = mutationType\r\n    ? Object.keys(mutationType.getFields()).reduce((red, field) => {\r\n        const type = mutationType.getFields()[field].type;\r\n        const entityType = getNamedType(type);\r\n        return Object.assign({}, red, { [field]: entityType });\r\n      }, {})\r\n    : {};\r\n\r\n  return { ...mutationTypeConverters, ...queryTypeConverters };\r\n}\r\n\r\nexport function getDataFromResponse(\r\n  converters: { [fieldName: string]: string },\r\n  data: Object,\r\n) {\r\n  return Object.keys(data).reduce((red, key) => {\r\n    return Object.assign({}, red, {\r\n      [converters[key]]: Array.isArray(data[key]) ? data[key] : [data[key]],\r\n    });\r\n  }, {});\r\n}\r\n\r\nexport function graphQLizr(\r\n  schema: GraphQLSchemaType,\r\n  { markers = [\"id\"] }: { markers: Array<string> } = {},\r\n): {\r\n  entities: { [typeName: string]: schema.Entity },\r\n  converters: { [fieldName: string]: string },\r\n} {\r\n  const entities = createEntitiesForTypes(schema._typeMap, markers);\r\n  const converters = getConvertersFromSchema(schema);\r\n  addDefinitionsForTypes(schema.getTypeMap(), entities);\r\n  return { entities, converters };\r\n}\r\n\r\nexport function graphQLRecordr(schema: GraphQLSchemaType) {\r\n  const records = createRecordsForTypes(schema.getTypeMap());\r\n  return records;\r\n}\r\n\r\nexport function convertsEntityToRecord(\r\n  entity?: ?Object | mixed,\r\n  type: string,\r\n  graphQLSchema: GraphQLSchemaType,\r\n  recordsTypes: RecordTypes,\r\n): RecordType<*> | mixed {\r\n  if (typeof entity !== \"object\" || entity == null) return entity;\r\n  if (Array.isArray(entity) === true) {\r\n    console.error(\"Trying to convert\", entity, \"into a Record of type\", type);\r\n    throw new Error(\r\n      \"ILS is trying to convert an Array in a Record which is impossible, you may have called packageData with wrong types (Array instead of Object) or something wrong with the normalization\",\r\n    );\r\n  }\r\n  const graphQLType = graphQLSchema.getType(type);\r\n  if (recordsTypes[type] == null) {\r\n    console.error(\r\n      \"You try to convert an entity of type\",\r\n      type,\r\n      \"into a Record but the type doesn't exist.\\n\",\r\n      \"Types that exist are\",\r\n      recordsTypes,\r\n      \"Entity value:\",\r\n      entity,\r\n      \"\\nYou may have actions.packageData({ typeThatDoesntExist: value }).\",\r\n    );\r\n    throw new Error(\"Aborting conversion of entity to immutable Record\");\r\n  }\r\n  // $FlowFixMe\r\n  return new recordsTypes[type](\r\n    Object.keys(entity).reduce((red, key) => {\r\n      if (\r\n        graphQLType instanceof GraphQLObjectType &&\r\n        graphQLType.getFields()[key] == null\r\n      ) {\r\n        console.warn(\r\n          \"Trying to assign field\",\r\n          key,\r\n          \"to entity of type\",\r\n          type,\r\n          \"but it doesn't exist in the graphql data model. You may want to update the schema to have this new field. Aborting assignment\",\r\n        );\r\n        return red;\r\n      }\r\n      // $FlowFixMe\r\n      const field = entity[key];\r\n      if (\r\n        typeof field == \"object\" &&\r\n        Array.isArray(field) == false &&\r\n        field != null\r\n      ) {\r\n        if (\r\n          graphQLSchema.getTypeMap()[type] == null ||\r\n          !(graphQLSchema.getTypeMap()[type] instanceof GraphQLObjectType) ||\r\n          // $FlowFixMe\r\n          graphQLSchema.getTypeMap()[type].getFields()[key] == null\r\n        ) {\r\n          console.error(\r\n            \"Error trying to convert entity\",\r\n            entity,\r\n            \"to record of type\",\r\n            type,\r\n          );\r\n          throw new Error(\r\n            `Error has been detected when trying to access the field with key ${key}, if key is a number you may have wrapped data, sent to packageData, in an array where you shouldn't`,\r\n          );\r\n        }\r\n        return Object.assign({}, red, {\r\n          [key]: convertsEntityToRecord(\r\n            field,\r\n            // $FlowFixMe\r\n            graphQLSchema.getTypeMap()[type].getFields()[key].type.name,\r\n            graphQLSchema,\r\n            recordsTypes,\r\n          ),\r\n        });\r\n      } else if (typeof field == \"object\" && Array.isArray(field) === true) {\r\n        return Object.assign({}, red, {\r\n          [key]: field.map(\r\n            v =>\r\n              typeof v === \"object\"\r\n                ? convertsEntityToRecord(\r\n                    v,\r\n                    // $FlowFixMe\r\n                    graphQLSchema.getTypeMap()[type].getFields()[key].type\r\n                      .ofType.name,\r\n                    graphQLSchema,\r\n                    recordsTypes,\r\n                  )\r\n                : v,\r\n          ),\r\n        });\r\n      } else {\r\n        return Object.assign({}, red, { [key]: field });\r\n      }\r\n    }, {}),\r\n  );\r\n}\r\n\r\nexport function convertsNormalizedEntitiesToRecords(\r\n  entities: { [typeName: string]: { [id: string]: Object } },\r\n  recordsTypes: RecordTypes,\r\n  graphQLSchema: GraphQLSchemaType,\r\n): { [typeName: string]: { [id: string]: RecordType<*> } } {\r\n  return Object.keys(entities).reduce((red, typeName) => {\r\n    return Object.assign({}, red, {\r\n      [typeName]: Object.keys(\r\n        entities[typeName],\r\n      ).reduce((reduction, entityId) => {\r\n        return Object.assign({}, reduction, {\r\n          [entityId]: convertsEntityToRecord(\r\n            entities[typeName][entityId],\r\n            typeName,\r\n            graphQLSchema,\r\n            recordsTypes,\r\n          ),\r\n        });\r\n      }, {}),\r\n    });\r\n  }, {});\r\n}\r\n\r\nexport function convertsGraphQLResultToRootEntitiesIDs(\r\n  result: Object,\r\n): { [entityName: string]: Array<string | number> | string | number } {\r\n  return Object.keys(result).reduce((red, key) => {\r\n    if (!Array.isArray(result[key]) && result[key] == null) return red;\r\n    return red.set(\r\n      key,\r\n      Array.isArray(result[key])\r\n        ? result[key].filter(entity => entity != null).map(entity => entity.id)\r\n        : result[key].id,\r\n    );\r\n  }, Map());\r\n}\r\n\r\nexport function convertsGraphQLQueryResultToRecords(\r\n  result: mixed,\r\n  associatedQuery: GraphQLField<any, any>,\r\n  schema: GraphQLSchema,\r\n  recordTypes: RecordTypes,\r\n) {\r\n  if (Array.isArray(result))\r\n    return List(result).map(v =>\r\n      convertsGraphQLQueryResultToRecords(\r\n        v,\r\n        associatedQuery,\r\n        schema,\r\n        recordTypes,\r\n      ),\r\n    );\r\n  else if (typeof result === \"object\" && result !== null) {\r\n    return convertsEntityToRecord(\r\n      result,\r\n      getNamedType(associatedQuery.type).name,\r\n      schema,\r\n      recordTypes,\r\n    );\r\n  } else {\r\n    return result;\r\n  }\r\n}\r\n\r\nexport function convertsGraphQLResultToRecords(\r\n  result: Object,\r\n  schema: GraphQLSchema,\r\n  recordTypes: RecordTypes,\r\n): Object {\r\n  const rootQuery = schema.getQueryType();\r\n  const queries = rootQuery.getFields();\r\n  return Object.keys(result).reduce((red, key) => {\r\n    const field = result[key];\r\n    const associatedQuery = queries[key];\r\n    const convertedField = convertsGraphQLQueryResultToRecords(\r\n      field,\r\n      associatedQuery,\r\n      schema,\r\n      recordTypes,\r\n    );\r\n    return {\r\n      ...red,\r\n      [key]: convertedField,\r\n    };\r\n  }, {});\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/graphqlTypesConverters.js","// @flow\r\n\r\nexport default class Mutation {\r\n  mutationQL: string;\r\n  variables: { [variableName: string]: mixed };\r\n  onError: () => void;\r\n  onCompleted: () => void;\r\n  operationName: ?string;\r\n\r\n  constructor(\r\n    {\r\n      mutationQL,\r\n      variables = {},\r\n      onError = () => {},\r\n      onCompleted = () => {},\r\n      operationName,\r\n    }: {\r\n      mutationQL: string,\r\n      variables?: { [variableName: string]: mixed },\r\n      onError?: () => void,\r\n      onCompleted?: () => void,\r\n      operationName?: string,\r\n    } = {},\r\n  ) {\r\n    if (mutationQL == null) {\r\n      throw new Error(\r\n        \"mutationQL has to be defined in the params of new Mutation: new Mutation({mutationQL: `mutation ...`})\",\r\n      );\r\n    }\r\n    this.mutationQL = mutationQL;\r\n    this.variables = variables;\r\n    this.onError = onError;\r\n    this.onCompleted = onCompleted;\r\n    this.operationName = operationName;\r\n  }\r\n\r\n  setOperationName(name: string) {\r\n    return new Mutation({\r\n      mutationQL: this.mutationQL,\r\n      variables: this.variables,\r\n      onError: this.onError,\r\n      onCompleted: this.onCompleted,\r\n      operationName: name,\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Mutation.js","\"use babel\";\r\n// @flow\r\n\r\nimport { fromJS, Map, List, Set, Record } from \"immutable\";\r\nimport { normalize, schema } from \"normalizr\";\r\nimport {\r\n  graphQLizr,\r\n  convertsNormalizedEntitiesToRecords,\r\n  convertsGraphQLResultToRootEntitiesIDs,\r\n} from \"./graphqlTypesConverters\";\r\nimport type { GraphQLSchema as GraphQLSchemaType } from \"graphql\";\r\n\r\nexport const QUERY_PROGRESS_NOT_STARTED = \"not started\";\r\nexport const QUERY_PROGRESS_PENDING = \"pending\";\r\nexport const QUERY_PROGRESS_SUCCEED = \"succeed\";\r\nexport const QUERY_PROGRESS_FAILED = \"failed\";\r\n\r\nexport const ResultsRecord = Record({\r\n  raw: null,\r\n  byQuery: Map(),\r\n  byEntity: Map(),\r\n});\r\nexport const QueryRecord = Record({\r\n  results: new ResultsRecord(),\r\n  progress: QUERY_PROGRESS_NOT_STARTED,\r\n});\r\nexport const DataReducerRecord = Record({\r\n  entities: Map(),\r\n  queries: Map(),\r\n});\r\n\r\nexport default function configureReducer(\r\n  normalizrTypes: { [typeName: string]: schema.Entity },\r\n  recordsTypes: { [typeName: string]: Record<*> },\r\n  graphQLSchema: GraphQLSchemaType,\r\n) {\r\n  function warnBadIDRequest(type: string, supposedId: mixed): void {\r\n    console.warn(\r\n      \"You're trying to delete a key of bad type for type\",\r\n      type,\r\n      \":\",\r\n      supposedId,\r\n      \".Keys must be of type number, string or identified object eg: {id: 'key'}. Aborting request\",\r\n    );\r\n  }\r\n\r\n  function getID(data: string | number | { id: string }): ?string {\r\n    if (typeof data === \"string\") return data;\r\n    else if (typeof data === \"number\") return data.toString();\r\n    else if (typeof data === \"object\" && data !== null) {\r\n      return getID(data.id);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  return function reducer(\r\n    state: DataReducerRecord = new DataReducerRecord(),\r\n    action: { type: string, payload: Object },\r\n  ) {\r\n    switch (action.type) {\r\n      case \"DATA_RECEIVED\":\r\n        const normalizrModel = Object.keys(\r\n          action.payload.entities,\r\n        ).reduce((red, key) => {\r\n          const type = normalizrTypes[key];\r\n          if (type === undefined)\r\n            throw new Error(\r\n              \"You can't normalize a type which is not an Entity. An Entity is a type with an id attribut. You may have defined a GraphQL root query type with a route that has a type without any id.\",\r\n            );\r\n          return Object.assign({}, red, {\r\n            [key]:\r\n              typeof action.payload.entities[key] == \"object\" &&\r\n              Array.isArray(action.payload.entities[key])\r\n                ? [type]\r\n                : type,\r\n          });\r\n        }, {});\r\n        const normalized = normalize(\r\n          JSON.parse(JSON.stringify(action.payload.entities)),\r\n          normalizrModel,\r\n        );\r\n        return state\r\n          .update(\"entities\", entities =>\r\n            entities.mergeDeepWith(\r\n              (a, b) => (b === undefined ? a : b),\r\n              convertsNormalizedEntitiesToRecords(\r\n                normalized.entities,\r\n                recordsTypes,\r\n                graphQLSchema,\r\n              ),\r\n            ),\r\n          )\r\n          .update(\r\n            \"queries\",\r\n            queries =>\r\n              action.payload.query\r\n                ? queries.set(\r\n                    action.payload.query.request.hash.toString(),\r\n                    new QueryRecord({\r\n                      results: new ResultsRecord({\r\n                        raw: action.payload.query.response.raw,\r\n                        byQuery: convertsGraphQLResultToRootEntitiesIDs(\r\n                          action.payload.query.response.raw,\r\n                        ),\r\n                      }),\r\n                      progress: QUERY_PROGRESS_SUCCEED,\r\n                    }),\r\n                  )\r\n                : queries,\r\n          );\r\n      case \"DATA_REMOVED\":\r\n        return Object.keys(action.payload).reduce((red, key: string) => {\r\n          if (\r\n            typeof action.payload[key] == \"object\" &&\r\n            Array.isArray(action.payload[key])\r\n          ) {\r\n            return action.payload[key].reduce((reduction, value) => {\r\n              const id = getID(value);\r\n              if (id == null) {\r\n                warnBadIDRequest(key, value);\r\n                return reduction;\r\n              } else {\r\n                return reduction.deleteIn([\"entities\", key, id]);\r\n              }\r\n            }, red);\r\n          } else {\r\n            const id = getID(action.payload[key]);\r\n            if (id == null) {\r\n              warnBadIDRequest(key, action.payload[key]);\r\n              return red;\r\n            } else {\r\n              // $FlowFixMe\r\n              return red.deleteIn([\"entities\", key, id]);\r\n            }\r\n          }\r\n        }, state);\r\n      case \"QUERY_STARTED\":\r\n        return state.update(\"queries\", queries =>\r\n          queries.update(\r\n            action.payload.query.request.hash.toString(),\r\n            (query = new QueryRecord()) =>\r\n              query.set(\"progress\", QUERY_PROGRESS_PENDING),\r\n          ),\r\n        );\r\n      case \"QUERY_FAILED\":\r\n        return state.update(\"queries\", queries =>\r\n          queries.update(action.payload.query.request.hash.toString(), query =>\r\n            query.set(\"progress\", QUERY_PROGRESS_FAILED),\r\n          ),\r\n        );\r\n      case \"QUERY_CACHE_BUSTED\":\r\n        return state.update(\"queries\", queries =>\r\n          queries.remove(action.payload.queryID.toString()),\r\n        );\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/reducer.js","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs2\":\"immutable\",\"commonjs\":\"immutable\",\"amd\":\"immutable\"}\n// module id = 4\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isImmutable = isImmutable;\nexports.denormalizeImmutable = denormalizeImmutable;\n/**\n * Helpers to enable Immutable compatibility *without* bringing in\n * the 'immutable' package as a dependency.\n */\n\n/**\n * Check if an object is immutable by checking if it has a key specific\n * to the immutable library.\n *\n * @param  {any} object\n * @return {bool}\n */\nfunction isImmutable(object) {\n  return !!(object && (object.hasOwnProperty('__ownerID') || // Immutable.Map\n  object._map && object._map.hasOwnProperty('__ownerID') // Immutable.Record\n  ));\n}\n\n/**\n * Denormalize an immutable entity.\n *\n * @param  {Schema} schema\n * @param  {Immutable.Map|Immutable.Record} input\n * @param  {function} unvisit\n * @param  {function} getDenormalizedEntity\n * @return {Immutable.Map|Immutable.Record}\n */\nfunction denormalizeImmutable(schema, input, unvisit) {\n  return Object.keys(schema).reduce(function (object, key) {\n    // Immutable maps cast keys to strings on write so we need to ensure\n    // we're accessing them using string keys.\n    var stringKey = '' + key;\n\n    if (object.has(stringKey)) {\n      return object.set(stringKey, unvisit(object.get(stringKey), schema[stringKey]));\n    } else {\n      return object;\n    }\n  }, input);\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/normalizr/dist/src/schemas/ImmutableUtils.js\n// module id = 5\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 6\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.denormalize = exports.normalize = exports.schema = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _Entity = require('./schemas/Entity');\n\nvar _Entity2 = _interopRequireDefault(_Entity);\n\nvar _Union = require('./schemas/Union');\n\nvar _Union2 = _interopRequireDefault(_Union);\n\nvar _Values = require('./schemas/Values');\n\nvar _Values2 = _interopRequireDefault(_Values);\n\nvar _Array = require('./schemas/Array');\n\nvar ArrayUtils = _interopRequireWildcard(_Array);\n\nvar _Object = require('./schemas/Object');\n\nvar ObjectUtils = _interopRequireWildcard(_Object);\n\nvar _ImmutableUtils = require('./schemas/ImmutableUtils');\n\nvar ImmutableUtils = _interopRequireWildcard(_ImmutableUtils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar visit = function visit(value, parent, key, schema, addEntity) {\n  if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== 'object' || !value) {\n    return value;\n  }\n\n  if ((typeof schema === 'undefined' ? 'undefined' : _typeof(schema)) === 'object' && (!schema.normalize || typeof schema.normalize !== 'function')) {\n    var method = Array.isArray(schema) ? ArrayUtils.normalize : ObjectUtils.normalize;\n    return method(schema, value, parent, key, visit, addEntity);\n  }\n\n  return schema.normalize(value, parent, key, visit, addEntity);\n};\n\nvar addEntities = function addEntities(entities) {\n  return function (schema, processedEntity, value, parent, key) {\n    var schemaKey = schema.key;\n    var id = schema.getId(value, parent, key);\n    if (!(schemaKey in entities)) {\n      entities[schemaKey] = {};\n    }\n\n    var existingEntity = entities[schemaKey][id];\n    if (existingEntity) {\n      entities[schemaKey][id] = schema.merge(existingEntity, processedEntity);\n    } else {\n      entities[schemaKey][id] = processedEntity;\n    }\n  };\n};\n\nvar schema = exports.schema = {\n  Array: ArrayUtils.default,\n  Entity: _Entity2.default,\n  Object: ObjectUtils.default,\n  Union: _Union2.default,\n  Values: _Values2.default\n};\n\nvar normalize = exports.normalize = function normalize(input, schema) {\n  if (!input || (typeof input === 'undefined' ? 'undefined' : _typeof(input)) !== 'object') {\n    throw new Error('Unexpected input given to normalize. Expected type to be \"object\", found \"' + (typeof input === 'undefined' ? 'undefined' : _typeof(input)) + '\".');\n  }\n\n  var entities = {};\n  var addEntity = addEntities(entities);\n\n  var result = visit(input, input, null, schema, addEntity);\n  return { entities: entities, result: result };\n};\n\nvar unvisitEntity = function unvisitEntity(input, schema, unvisit, getEntity, cache) {\n  var entity = getEntity(input, schema);\n  if ((typeof entity === 'undefined' ? 'undefined' : _typeof(entity)) !== 'object' || entity === null) {\n    return entity;\n  }\n\n  var id = schema.getId(entity);\n\n  if (!cache[schema.key]) {\n    cache[schema.key] = {};\n  }\n\n  if (!cache[schema.key][id]) {\n    // Ensure we don't mutate it non-immutable objects\n    var entityCopy = ImmutableUtils.isImmutable(entity) ? entity : _extends({}, entity);\n\n    // Need to set this first so that if it is referenced further within the\n    // denormalization the reference will already exist.\n    cache[schema.key][id] = entityCopy;\n    cache[schema.key][id] = schema.denormalize(entityCopy, unvisit);\n  }\n\n  return cache[schema.key][id];\n};\n\nvar getUnvisit = function getUnvisit(entities) {\n  var cache = {};\n  var getEntity = getEntities(entities);\n\n  return function unvisit(input, schema) {\n    if ((typeof schema === 'undefined' ? 'undefined' : _typeof(schema)) === 'object' && (!schema.denormalize || typeof schema.denormalize !== 'function')) {\n      var method = Array.isArray(schema) ? ArrayUtils.denormalize : ObjectUtils.denormalize;\n      return method(schema, input, unvisit);\n    }\n\n    if (input === undefined || input === null) {\n      return input;\n    }\n\n    if (schema instanceof _Entity2.default) {\n      return unvisitEntity(input, schema, unvisit, getEntity, cache);\n    }\n\n    return schema.denormalize(input, unvisit);\n  };\n};\n\nvar getEntities = function getEntities(entities) {\n  var isImmutable = ImmutableUtils.isImmutable(entities);\n\n  return function (entityOrId, schema) {\n    var schemaKey = schema.key;\n\n    if ((typeof entityOrId === 'undefined' ? 'undefined' : _typeof(entityOrId)) === 'object') {\n      return entityOrId;\n    }\n\n    return isImmutable ? entities.getIn([schemaKey, entityOrId.toString()]) : entities[schemaKey][entityOrId];\n  };\n};\n\nvar denormalize = exports.denormalize = function denormalize(input, schema, entities) {\n  if (!input) {\n    return input;\n  }\n\n  return getUnvisit(entities)(input, schema);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/normalizr/dist/src/index.js\n// module id = 7\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _ImmutableUtils = require('./ImmutableUtils');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PolymorphicSchema = function () {\n  function PolymorphicSchema(definition, schemaAttribute) {\n    _classCallCheck(this, PolymorphicSchema);\n\n    if (schemaAttribute) {\n      this._schemaAttribute = typeof schemaAttribute === 'string' ? function (input) {\n        return input[schemaAttribute];\n      } : schemaAttribute;\n    }\n    this.define(definition);\n  }\n\n  _createClass(PolymorphicSchema, [{\n    key: 'define',\n    value: function define(definition) {\n      this.schema = definition;\n    }\n  }, {\n    key: 'getSchemaAttribute',\n    value: function getSchemaAttribute(input, parent, key) {\n      return !this.isSingleSchema && this._schemaAttribute(input, parent, key);\n    }\n  }, {\n    key: 'inferSchema',\n    value: function inferSchema(input, parent, key) {\n      if (this.isSingleSchema) {\n        return this.schema;\n      }\n\n      var attr = this.getSchemaAttribute(input, parent, key);\n      return this.schema[attr];\n    }\n  }, {\n    key: 'normalizeValue',\n    value: function normalizeValue(value, parent, key, visit, addEntity) {\n      var schema = this.inferSchema(value, parent, key);\n      if (!schema) {\n        return value;\n      }\n      var normalizedValue = visit(value, parent, key, schema, addEntity);\n      return this.isSingleSchema || normalizedValue === undefined || normalizedValue === null ? normalizedValue : { id: normalizedValue, schema: this.getSchemaAttribute(value, parent, key) };\n    }\n  }, {\n    key: 'denormalizeValue',\n    value: function denormalizeValue(value, unvisit) {\n      var schemaKey = (0, _ImmutableUtils.isImmutable)(value) ? value.get('schema') : value.schema;\n      if (!this.isSingleSchema && !schemaKey) {\n        return value;\n      }\n      var id = (0, _ImmutableUtils.isImmutable)(value) ? value.get('id') : value.id;\n      var schema = this.isSingleSchema ? this.schema : this.schema[schemaKey];\n      return unvisit(id || value, schema);\n    }\n  }, {\n    key: 'isSingleSchema',\n    get: function get() {\n      return !this._schemaAttribute;\n    }\n  }]);\n\n  return PolymorphicSchema;\n}();\n\nexports.default = PolymorphicSchema;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/normalizr/dist/src/schemas/Polymorphic.js\n// module id = 8\n// module chunks = 0","// @flow\r\n\r\nimport { Stack, List } from \"immutable\";\r\nimport {\r\n  TypeInfo,\r\n  GraphQLSchema,\r\n  Kind,\r\n  GraphQLList,\r\n  GraphQLObjectType,\r\n  getNamedType,\r\n  visit,\r\n  visitWithTypeInfo,\r\n  parse,\r\n  BREAK,\r\n} from \"graphql\";\r\nimport type { ASTNode, FieldNode, FragmentDefinitionNode } from \"graphql\";\r\nimport { DataReducerRecord } from \"./reducer\";\r\nimport { isEntity } from \"./graphqlTypesConverters\";\r\n\r\nexport function hashString(str: string): number {\r\n  let hash = 0;\r\n  if (str.length == 0) return hash;\r\n  for (let i = 0; i < str.length; i++) {\r\n    const char = str.charCodeAt(i);\r\n    hash = (hash << 5) - hash + char;\r\n    hash = hash & hash; // Convert to 32bit integer\r\n  }\r\n  return hash;\r\n}\r\n\r\nexport function hashMutationQuery(query: string, id: string): number {\r\n  return hashString(`mutation-${id}-${query}`);\r\n}\r\n\r\nexport function generateUUID() {\r\n  let d = new Date().getTime();\r\n  if (\r\n    typeof performance !== \"undefined\" &&\r\n    typeof performance.now === \"function\"\r\n  ) {\r\n    d += performance.now(); //use high-precision timer if available\r\n  }\r\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\r\n    const r = ((d + Math.random() * 16) % 16) | 0;\r\n    d = Math.floor(d / 16);\r\n    return (c === \"x\" ? r : (r & 0x3) | 0x8).toString(16);\r\n  });\r\n}\r\n\r\nexport class TypeInfoWithValuesComparator extends TypeInfo {\r\n  _value1Stack: Stack<mixed>;\r\n  _value2Stack: Stack<mixed>;\r\n  _reducer1: DataReducerRecord;\r\n  _reducer2: DataReducerRecord;\r\n  _queryHash1: string | number;\r\n  _queryHash2: string | number;\r\n  _shouldBreak: boolean;\r\n\r\n  constructor({\r\n    schema,\r\n    reducer1,\r\n    reducer2,\r\n    queryHash1,\r\n    queryHash2,\r\n  }: {\r\n    schema: GraphQLSchema,\r\n    reducer1: DataReducerRecord,\r\n    reducer2: DataReducerRecord,\r\n    queryHash1: string | number,\r\n    queryHash2: string | number,\r\n  }) {\r\n    super(schema);\r\n    this._value1Stack = Stack();\r\n    this._value2Stack = Stack();\r\n    this._reducer1 = reducer1;\r\n    this._reducer2 = reducer2;\r\n    this._queryHash1 = queryHash1;\r\n    this._queryHash2 = queryHash2;\r\n    this._shouldBreak = false;\r\n  }\r\n\r\n  _getQueryValue(\r\n    node: FieldNode,\r\n    reducer: DataReducerRecord,\r\n    queryHash: string | number,\r\n  ) {\r\n    if (reducer == null || queryHash == null)\r\n      throw new Error(\r\n        \"Trying to determine whether selection of data has to be relaunched, but encounterd an error. Missing dependency on reducer or queryHash\",\r\n      );\r\n    const queryResult = reducer.getIn([\r\n      \"queries\",\r\n      queryHash,\r\n      \"results\",\r\n      \"byQuery\",\r\n      node.alias != null ? node.alias.value : node.name.value,\r\n    ]);\r\n    const currentType = this.getType();\r\n    if (queryResult == null) {\r\n      if (currentType instanceof GraphQLList) return [];\r\n      else return null;\r\n    }\r\n    if (currentType instanceof GraphQLList) {\r\n      const typeName = getNamedType(currentType.ofType).name;\r\n      return queryResult.map(id =>\r\n        reducer.getIn([\"entities\", typeName, id.toString()]),\r\n      );\r\n    } else if (queryResult != null) {\r\n      const namedType = getNamedType(currentType);\r\n      if (namedType != undefined) {\r\n        return reducer.getIn([\r\n          \"entities\",\r\n          namedType.name,\r\n          queryResult.toString(),\r\n        ]);\r\n      } else {\r\n        console.error(\"CurrentType:\", currentType);\r\n        throw new Error(\r\n          \"Weird behavior has been encountered with an unnamed type as current type\",\r\n        );\r\n      }\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  _getEntityValue(\r\n    node: FieldNode,\r\n    reducer: DataReducerRecord,\r\n    lastValue: mixed,\r\n  ) {\r\n    if (\r\n      node.selectionSet != null &&\r\n      typeof lastValue === \"object\" &&\r\n      lastValue != null\r\n    ) {\r\n      const fieldName = node.alias ? node.alias.value : node.name.value;\r\n      if (Array.isArray(lastValue) || List.isList(lastValue))\r\n        // $FlowFixMe\r\n        return lastValue.map(v => this._getEntityValue(node, reducer, v));\r\n      const fieldValue = lastValue[fieldName];\r\n      const namedType = getNamedType(this.getType());\r\n      if (namedType && isEntity(namedType) === false) {\r\n        return fieldValue;\r\n      }\r\n      if (\r\n        this.getType() instanceof GraphQLList &&\r\n        fieldValue != null &&\r\n        (Array.isArray(fieldValue) || List.isList(fieldValue))\r\n      ) {\r\n        if (namedType) {\r\n          const entityName = namedType.name;\r\n          // $FlowFixMe\r\n          return fieldValue.map(id =>\r\n            reducer.getIn([\"entities\", entityName, id.toString()]),\r\n          );\r\n        } else {\r\n          console.error(\r\n            \"Weird state encountered trying to get the named type of\",\r\n            this.getType(),\r\n            \"at node\",\r\n            node,\r\n            \"knowing that \",\r\n            fieldValue,\r\n            \"is an Array or a Immutable.List\",\r\n          );\r\n          throw new Error(\"Aborting.\");\r\n        }\r\n      } else if (fieldValue != null) {\r\n        if (namedType) {\r\n          const entityName = namedType.name;\r\n          // $FlowFixMe\r\n          return reducer.getIn([\"entities\", entityName, fieldValue.toString()]);\r\n        } else {\r\n          console.error(\r\n            \"Weird state encountered trying to get the named type of\",\r\n            this.getType(),\r\n            \"at node\",\r\n            node,\r\n            \"knowing that \",\r\n            fieldValue,\r\n            \"is an Object or a Immutable.Record\",\r\n          );\r\n          throw new Error(\"Aborting.\");\r\n        }\r\n      } else {\r\n        return null;\r\n      }\r\n    } else {\r\n      return lastValue;\r\n    }\r\n  }\r\n\r\n  _haveChanged(value1: mixed, value2: mixed): boolean {\r\n    if (typeof value1 !== typeof value2) return true;\r\n    if (Array.isArray(value1) || List.isList(value1)) {\r\n      if (Array.isArray(value2) === true || List.isList(value2) === true) {\r\n        // $FlowFixMe\r\n        return value1.some((v1: mixed, i: number) => {\r\n          return this._haveChanged(\r\n            v1,\r\n            // $FlowFixMe\r\n            Array.isArray(value2) ? value2[i] : value2.get(i),\r\n          );\r\n        });\r\n      } else return true;\r\n    } else if (typeof value1 === \"object\" && value1 !== null) {\r\n      if (value2 === null) return true;\r\n      return value1 !== value2;\r\n    } else {\r\n      return value1 !== value2;\r\n    }\r\n  }\r\n\r\n  enter(node: ASTNode) {\r\n    super.enter(node);\r\n    if (node.kind === Kind.FIELD) {\r\n      let value1;\r\n      let value2;\r\n      if (this.getParentType() === this._schema.getQueryType()) {\r\n        value1 = this._getQueryValue(node, this._reducer1, this._queryHash1);\r\n        this._value1Stack = this._value1Stack.unshift(value1);\r\n        value2 = this._getQueryValue(node, this._reducer2, this._queryHash2);\r\n        this._value2Stack = this._value2Stack.push(value2);\r\n      } else {\r\n        value1 = this._getEntityValue(\r\n          node,\r\n          this._reducer1,\r\n          this._value1Stack.peek(),\r\n        );\r\n        this._value1Stack = this._value1Stack.push(value1);\r\n        value2 = this._getEntityValue(\r\n          node,\r\n          this._reducer2,\r\n          this._value2Stack.peek(),\r\n        );\r\n        this._value2Stack = this._value2Stack.push(value2);\r\n      }\r\n      if (this._shouldBreak === false) {\r\n        this._shouldBreak = this._haveChanged(value1, value2);\r\n      }\r\n    }\r\n  }\r\n\r\n  leave(node: ASTNode) {\r\n    if (node.kind === Kind.FIELD) {\r\n      this._value1Stack = this._value1Stack.pop();\r\n      this._value2Stack = this._value2Stack.pop();\r\n    }\r\n    super.leave(node);\r\n  }\r\n\r\n  getValue1(): mixed {\r\n    return this._value1Stack.peek();\r\n  }\r\n\r\n  getValue2(): mixed {\r\n    return this._value2Stack.peek();\r\n  }\r\n\r\n  shouldBreak(): boolean {\r\n    return this._shouldBreak;\r\n  }\r\n}\r\n\r\nexport function getFragmentDefinitions(\r\n  query: string | ASTNode,\r\n): { [fragmentName: string]: FragmentDefinitionNode } {\r\n  let fragments = {};\r\n  visit(typeof query === \"string\" ? parse(query) : query, {\r\n    [Kind.FRAGMENT_DEFINITION]: {\r\n      enter(node: FragmentDefinitionNode) {\r\n        fragments[node.name.value] = node;\r\n      },\r\n    },\r\n  });\r\n  return fragments;\r\n}\r\n\r\nexport function selectedDataHaveChanged({\r\n  query,\r\n  schema,\r\n  queryHash,\r\n  reducer1,\r\n  reducer2,\r\n  typeInfo,\r\n  fragments,\r\n}: {\r\n  query: string | ASTNode,\r\n  schema: GraphQLSchema,\r\n  queryHash: string | number,\r\n  reducer1: DataReducerRecord,\r\n  reducer2: DataReducerRecord,\r\n  typeInfo?: TypeInfoWithValuesComparator,\r\n  fragments?: { [fragmentName: string]: FragmentDefinitionNode },\r\n}): boolean {\r\n  const declaredFragments = fragments || getFragmentDefinitions(query);\r\n  const initializedTypeInfo =\r\n    typeInfo ||\r\n    new TypeInfoWithValuesComparator({\r\n      schema,\r\n      reducer1,\r\n      reducer2,\r\n      queryHash1: queryHash,\r\n      queryHash2: queryHash,\r\n    });\r\n  let hasChanged = false;\r\n  visit(\r\n    typeof query === \"string\" ? parse(query) : query,\r\n    visitWithTypeInfo(initializedTypeInfo, {\r\n      [Kind.FRAGMENT_SPREAD]: {\r\n        enter(node: FragmentDefinitionNode) {\r\n          const fragmentDefinition = declaredFragments[node.name.value];\r\n          if (fragmentDefinition == null) {\r\n            console.error(`fragment ${node.name.value} is not defined`);\r\n            throw new Error(\r\n              \"Aborting because of unknown fragment \" + node.name.value,\r\n            );\r\n          }\r\n          hasChanged =\r\n            hasChanged ||\r\n            selectedDataHaveChanged({\r\n              query: fragmentDefinition.selectionSet,\r\n              schema,\r\n              queryHash,\r\n              reducer1,\r\n              reducer2,\r\n              typeInfo: initializedTypeInfo,\r\n              fragments: declaredFragments,\r\n            });\r\n        },\r\n      },\r\n      [Kind.FIELD]: {\r\n        enter(node) {\r\n          hasChanged = initializedTypeInfo.shouldBreak();\r\n          if (hasChanged) return BREAK;\r\n        },\r\n      },\r\n    }),\r\n  );\r\n  return hasChanged;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils.js","// @flow\r\n\r\nimport type {\r\n  GraphQLOutputType,\r\n  GraphQLType,\r\n  GraphQLField,\r\n  GraphQLNamedType,\r\n  GraphQLArgument,\r\n  GraphQLArgumentConfig,\r\n  GraphQLFieldConfigMap,\r\n  GraphQLFieldConfig,\r\n  GraphQLResolveInfo,\r\n  FragmentDefinitionNode,\r\n  ASTNode,\r\n} from \"graphql\";\r\nimport { Map } from \"immutable\";\r\nimport {\r\n  printSchema,\r\n  graphql,\r\n  GraphQLObjectType,\r\n  GraphQLSchema,\r\n  GraphQLString,\r\n  GraphQLFloat,\r\n  GraphQLList,\r\n  GraphQLInt,\r\n  GraphQLBoolean,\r\n  GraphQLID,\r\n  GraphQLEnumType,\r\n  GraphQLUnionType,\r\n  getNamedType,\r\n  visit,\r\n  parse,\r\n  Kind,\r\n} from \"graphql\";\r\nimport { isEntity } from \"./graphqlTypesConverters\";\r\n\r\ntype TypeMap = { [typeName: string]: GraphQLNamedType };\r\n\r\nfunction getResolveQuery(entityName: string) {\r\n  return function resolveQuery(\r\n    parent,\r\n    args,\r\n    context,\r\n    { rootValue, fieldName, returnType, path }: GraphQLResolveInfo,\r\n  ) {\r\n    if (context == null || context.db == null || context.queryHash == null)\r\n      throw new Error(\r\n        \"You have to pass database (entities and results) as db and graphql query as queryHash in contextValue\",\r\n      );\r\n    const queryResult = context.db.getIn([\r\n      \"queries\",\r\n      context.queryHash,\r\n      \"results\",\r\n      \"byQuery\",\r\n      path !== undefined ? path.key : fieldName,\r\n    ]);\r\n    if (queryResult == null) {\r\n      if (returnType instanceof GraphQLList) return [];\r\n      else return null;\r\n    }\r\n    if (returnType instanceof GraphQLList) {\r\n      const typeName = getEntityTypeNameFromSelectorTypeName(\r\n        getNamedType(returnType.ofType).name,\r\n      );\r\n      return queryResult.map(id =>\r\n        context.db.getIn([\"entities\", typeName, id.toString()]),\r\n      );\r\n    } else if (queryResult != null) {\r\n      return context.db.getIn([\r\n        \"entities\",\r\n        getEntityTypeNameFromSelectorTypeName(getNamedType(returnType).name),\r\n        queryResult.toString(),\r\n      ]);\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n}\r\n\r\nfunction getResolveEntity(entityName: string) {\r\n  return function resolveEntity(\r\n    parent,\r\n    args,\r\n    context,\r\n    { rootValue, fieldName, returnType }: GraphQLResolveInfo = {},\r\n  ) {\r\n    const fieldValue = parent[fieldName];\r\n    if (returnType instanceof GraphQLList && fieldValue != null) {\r\n      return fieldValue.map(id =>\r\n        context.db.getIn([\"entities\", entityName, id.toString()]),\r\n      );\r\n    } else if (fieldValue != null) {\r\n      return context.db.getIn([\"entities\", entityName, fieldValue.toString()]);\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n}\r\n\r\nfunction getSelectorTypeName(name: string): string {\r\n  return `${name}Selector`;\r\n}\r\n\r\nfunction getEntityTypeNameFromSelectorTypeName(name: string): string {\r\n  return name.substring(0, name.length - 8);\r\n}\r\n\r\nfunction getSelectorTypeFromType(\r\n  type: GraphQLOutputType,\r\n  typesMap: TypeMap,\r\n): GraphQLOutputType {\r\n  if (type instanceof GraphQLList)\r\n    return new GraphQLList(getSelectorTypeFromType(type.ofType, typesMap));\r\n  else if (type instanceof GraphQLObjectType) {\r\n    const typeName = getSelectorTypeName(getNamedType(type).name);\r\n    if (typesMap[typeName] == null) {\r\n      throw new Error(\r\n        \"Something went wrong in schema conversions. Trying to access \" +\r\n          typeName +\r\n          \" type is impossible in Selectors Schema TypeMap\",\r\n      );\r\n    }\r\n    // $FlowFixMe\r\n    return typesMap[typeName];\r\n  } else {\r\n    return type;\r\n  }\r\n}\r\n\r\nfunction convertsArgsArrayToArgsMap(\r\n  args: Array<GraphQLArgument>,\r\n): { [argName: string]: GraphQLArgumentConfig } {\r\n  return args.reduce(\r\n    (red, arg): { [argName: string]: GraphQLArgumentConfig } => ({\r\n      ...red,\r\n      [arg.name]: arg,\r\n    }),\r\n    {},\r\n  );\r\n}\r\n\r\nexport function convertsFieldToSelectorField(\r\n  query: GraphQLField<any, any>,\r\n  typesMap: TypeMap,\r\n  type: \"entity\" | \"query\" | \"scalar\",\r\n): GraphQLFieldConfig<any, any> {\r\n  let resolver;\r\n  let name: string;\r\n  switch (type) {\r\n    case \"entity\":\r\n      name = getSelectorTypeName(query.name);\r\n      resolver = getResolveEntity(getNamedType(query.type).name);\r\n      break;\r\n    case \"query\":\r\n      name = getSelectorTypeName(query.name);\r\n      resolver = getResolveQuery(getNamedType(query.type).name);\r\n      break;\r\n    default:\r\n      name = query.name;\r\n  }\r\n  return {\r\n    description: query.description,\r\n    args: convertsArgsArrayToArgsMap(query.args),\r\n    type: getSelectorTypeFromType(query.type, typesMap),\r\n    resolve: resolver,\r\n  };\r\n}\r\n\r\nexport function convertsTypeToSelectorType(\r\n  type: GraphQLObjectType,\r\n  typeMap: TypeMap,\r\n): GraphQLOutputType {\r\n  const selectorName = getSelectorTypeName(type.name);\r\n  return new GraphQLObjectType({\r\n    name: selectorName,\r\n    fields: () =>\r\n      Object.keys(type.getFields()).reduce((red, key) => {\r\n        return {\r\n          ...red,\r\n          [key]: isEntity(getNamedType(type.getFields()[key].type))\r\n            ? convertsFieldToSelectorField(\r\n                type.getFields()[key],\r\n                typeMap,\r\n                \"entity\",\r\n              )\r\n            : convertsFieldToSelectorField(\r\n                type.getFields()[key],\r\n                typeMap,\r\n                \"scalar\",\r\n              ),\r\n        };\r\n      }, {}),\r\n  });\r\n}\r\n\r\nexport function convertsTypeMapToSelectorTypeMap(typeMap: TypeMap): TypeMap {\r\n  let newTypeMap = {};\r\n  Object.keys(typeMap).forEach(key => {\r\n    const type = typeMap[key];\r\n    if (\r\n      /*isEntity(type) === true &&*/ type instanceof GraphQLObjectType &&\r\n      !key.startsWith(\"__\")\r\n    ) {\r\n      newTypeMap[getSelectorTypeName(key)] = convertsTypeToSelectorType(\r\n        type,\r\n        newTypeMap,\r\n      );\r\n    } else {\r\n      newTypeMap[key] = type;\r\n    }\r\n  });\r\n  return newTypeMap;\r\n}\r\n\r\nexport function convertsRootQueryToSelectorRootQuery(\r\n  rootQuery: GraphQLObjectType,\r\n  selectorTypeMap: TypeMap,\r\n): GraphQLObjectType {\r\n  return new GraphQLObjectType({\r\n    name: \"SelectorsRootQueryType\",\r\n    fields: Object.keys(rootQuery.getFields()).reduce((red, key) => {\r\n      return {\r\n        ...red,\r\n        [key]: convertsFieldToSelectorField(\r\n          rootQuery.getFields()[key],\r\n          selectorTypeMap,\r\n          \"query\",\r\n        ),\r\n      };\r\n    }, {}),\r\n  });\r\n}\r\n\r\nexport function convertsTypesSchemaToSelectorSchema(\r\n  schema: GraphQLSchema,\r\n  {\r\n    markers = [\"id\"],\r\n    __debug = false,\r\n  }: { markers?: Array<string>, __debug?: boolean } = {},\r\n): GraphQLSchema {\r\n  const typesMap = schema.getTypeMap();\r\n  const selectorTypesMap = convertsTypeMapToSelectorTypeMap(typesMap);\r\n  if (__debug) {\r\n    console.log(\r\n      \"DataModel TypeMap:\",\r\n      typesMap,\r\n      \"\\nSelector TypeMap:\",\r\n      selectorTypesMap,\r\n    );\r\n  }\r\n  const typesQuery = schema.getQueryType();\r\n  const selectorTypesQuery = convertsRootQueryToSelectorRootQuery(\r\n    typesQuery,\r\n    selectorTypesMap,\r\n  );\r\n  const selectorSchema = new GraphQLSchema({\r\n    query: selectorTypesQuery,\r\n  });\r\n  return selectorSchema;\r\n}\r\n\r\nexport function convertsQueryToSelectorQuery(query: string | ASTNode): ASTNode {\r\n  return visit(typeof query === \"string\" ? parse(query) : query, {\r\n    [Kind.FRAGMENT_DEFINITION]: {\r\n      enter(node: FragmentDefinitionNode) {\r\n        const copiedNode: FragmentDefinitionNode = visit(node, {});\r\n        copiedNode.typeCondition.name.value = getSelectorTypeName(\r\n          copiedNode.typeCondition.name.value,\r\n        );\r\n        return copiedNode;\r\n      },\r\n    },\r\n  });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/selectors.js","// @flow\r\n\r\nexport { createTestLab } from \"./TestUtils\";\r\nexport { configure } from \"./configurer\";\r\nexport { default as Mutation } from \"./Mutation\";\r\nexport {\r\n  QUERY_PROGRESS_NOT_STARTED,\r\n  QUERY_PROGRESS_PENDING,\r\n  QUERY_PROGRESS_SUCCEED,\r\n  QUERY_PROGRESS_FAILED,\r\n} from \"./reducer\";\r\nexport { graphQLizr, graphQLRecordr } from \"./graphqlTypesConverters\";\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js","// @flow\n\nimport React from \"react\";\nimport { graphql } from \"graphql\";\nimport type { GraphQLSchema } from \"graphql\";\nimport Mutation from \"./Mutation\";\nimport { compose, withPropsOnChange, lifecycle } from \"recompose\";\nimport { DataReducerRecord } from \"./reducer\";\n\nfunction configureProxies(\n  {\n    schema,\n    rootValue,\n    contextValue,\n  }: {\n    schema: GraphQLSchema,\n    rootValue?: { [key: string]: (...params: any) => any },\n    contextValue?: any,\n  } = {},\n) {\n  return {\n    configureDispatchProxy(\n      {\n        dispatch = () => {},\n        onError = () => {},\n        onSuccess = () => {},\n        onResolve = () => {},\n      }: {\n        dispatch?: (action: Object) => void,\n        onError?: (errors: Array<Object>) => void,\n        onSuccess?: (data: Object) => void,\n        onResolve?: (promise: Promise<any>) => void,\n      } = {},\n    ) {\n      return function dispatchProxy(action) {\n        if (action.type === \"GRAPHQL_MUTATION\") {\n          const promise = graphql(\n            schema,\n            action.payload.mutation.mutationQL,\n            rootValue,\n            contextValue,\n            action.payload.mutation.variables,\n          );\n          onResolve(promise);\n          promise.then(result => {\n            if (result.errors && result.errors.length > 0) {\n              onError(result.errors);\n            } else {\n              dispatch(action);\n              onSuccess(result.data);\n            }\n          });\n        } else if (action.type === \"GRAPHQL_FETCH\") {\n          const promise = graphql(\n            schema,\n            action.payload,\n            rootValue,\n            contextValue,\n          );\n          onResolve(promise);\n          promise.then(result => {\n            if (result.errors && result.errors.length > 0) {\n              onError(result.errors);\n            } else {\n              dispatch(action);\n              onSuccess(result.data);\n            }\n          });\n        } else {\n          dispatch(action);\n        }\n      };\n    },\n  };\n}\n\nconst MockView = compose(\n  lifecycle({\n    componentDidMount() {\n      if (typeof this.props.onMount === \"function\") {\n        this.props.onMount(this.props);\n      }\n    },\n\n    componentWillReceiveProps(nextProps) {\n      if (typeof this.props.onPropChange === \"function\") {\n        if (Array.isArray(this.props.watchedProps)) {\n          const changed = this.props.watchedProps.reduce((red, prop) => {\n            if (red === true) {\n              return red;\n            } else {\n              return this.props[prop] !== nextProps[prop];\n            }\n          }, false);\n          if (changed) {\n            this.props.onPropChange(nextProps, this.props);\n          }\n        } else if (typeof this.props.watchedProps === \"string\") {\n          if (\n            nextProps[this.props.watchedProps] !==\n            this.props[this.props.watchedProps]\n          ) {\n            this.props.onPropChange(nextProps, this.props);\n          }\n        } else {\n          throw new Error(\n            \"No watch configured. Add watchedProps prop to your TestLab to determine which prop to observe for change\",\n          );\n        }\n      }\n    },\n  }),\n)(function MockViewElement() {\n  return null;\n});\n\nexport function createTestLab(\n  TestedHOC: (\n    comp: Class<React.Component<any, any, any>>,\n  ) => Class<React.Component<any, any, any>>,\n  {\n    reducerName = \"data\",\n    schema,\n  }: { reducerName?: string, schema: GraphQLSchema } = {},\n): Class<React.Component<any, any, any>> {\n  if (schema == null) {\n    throw new Error(\n      \"You have to give your graphql schema to the lab. createTestLab(HOC, { schema: YOUR-SCHEMA })\",\n    );\n  }\n  const Subject = TestedHOC(MockView);\n  const proxies = configureProxies({ schema });\n  const DataLab = compose(\n    withPropsOnChange(\n      [\"dispatch\"],\n      ({ dispatch, onResolve, onSuccess, onError }) => ({\n        dispatch: proxies.configureDispatchProxy({\n          dispatch,\n          onResolve,\n          onSuccess,\n          onError,\n        }),\n        [reducerName]: new DataReducerRecord(),\n      }),\n    ),\n  );\n  const SupervisedSubject = compose(DataLab)(Subject);\n  return SupervisedSubject;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/TestUtils.js","import React, { Component } from 'react';\nimport shallowEqual from 'fbjs/lib/shallowEqual';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport { createChangeEmitter } from 'change-emitter';\nimport $$observable from 'symbol-observable';\n\nvar setStatic = function setStatic(key, value) {\n  return function (BaseComponent) {\n    /* eslint-disable no-param-reassign */\n    BaseComponent[key] = value;\n    /* eslint-enable no-param-reassign */\n    return BaseComponent;\n  };\n};\n\nvar setDisplayName = function setDisplayName(displayName) {\n  return setStatic('displayName', displayName);\n};\n\nvar getDisplayName = function getDisplayName(Component$$1) {\n  if (typeof Component$$1 === 'string') {\n    return Component$$1;\n  }\n\n  if (!Component$$1) {\n    return undefined;\n  }\n\n  return Component$$1.displayName || Component$$1.name || 'Component';\n};\n\nvar wrapDisplayName = function wrapDisplayName(BaseComponent, hocName) {\n  return hocName + '(' + getDisplayName(BaseComponent) + ')';\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n\n\n\n\n\n\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar createEagerElementUtil = function createEagerElementUtil(hasKey, isReferentiallyTransparent, type, props, children) {\n  if (!hasKey && isReferentiallyTransparent) {\n    if (children) {\n      return type(_extends({}, props, { children: children }));\n    }\n    return type(props);\n  }\n\n  var Component$$1 = type;\n\n  if (children) {\n    return React.createElement(\n      Component$$1,\n      props,\n      children\n    );\n  }\n\n  return React.createElement(Component$$1, props);\n};\n\nvar isClassComponent = function isClassComponent(Component$$1) {\n  return Boolean(Component$$1 && Component$$1.prototype && _typeof(Component$$1.prototype.isReactComponent) === 'object');\n};\n\nvar isReferentiallyTransparentFunctionComponent = function isReferentiallyTransparentFunctionComponent(Component$$1) {\n  return Boolean(typeof Component$$1 === 'function' && !isClassComponent(Component$$1) && !Component$$1.defaultProps && !Component$$1.contextTypes && (process.env.NODE_ENV === 'production' || !Component$$1.propTypes));\n};\n\nvar createFactory = function createFactory(type) {\n  var isReferentiallyTransparent = isReferentiallyTransparentFunctionComponent(type);\n  return function (p, c) {\n    return createEagerElementUtil(false, isReferentiallyTransparent, type, p, c);\n  };\n};\n\nvar mapProps = function mapProps(propsMapper) {\n  return function (BaseComponent) {\n    var factory = createFactory(BaseComponent);\n    var MapProps = function MapProps(props) {\n      return factory(propsMapper(props));\n    };\n    if (process.env.NODE_ENV !== 'production') {\n      return setDisplayName(wrapDisplayName(BaseComponent, 'mapProps'))(MapProps);\n    }\n    return MapProps;\n  };\n};\n\nvar withProps = function withProps(input) {\n  var hoc = mapProps(function (props) {\n    return _extends({}, props, typeof input === 'function' ? input(props) : input);\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    return function (BaseComponent) {\n      return setDisplayName(wrapDisplayName(BaseComponent, 'withProps'))(hoc(BaseComponent));\n    };\n  }\n  return hoc;\n};\n\nvar pick = function pick(obj, keys) {\n  var result = {};\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (obj.hasOwnProperty(key)) {\n      result[key] = obj[key];\n    }\n  }\n  return result;\n};\n\nvar withPropsOnChange = function withPropsOnChange(shouldMapOrKeys, propsMapper) {\n  return function (BaseComponent) {\n    var factory = createFactory(BaseComponent);\n    var shouldMap = typeof shouldMapOrKeys === 'function' ? shouldMapOrKeys : function (props, nextProps) {\n      return !shallowEqual(pick(props, shouldMapOrKeys), pick(nextProps, shouldMapOrKeys));\n    };\n\n    var WithPropsOnChange = function (_Component) {\n      inherits(WithPropsOnChange, _Component);\n\n      function WithPropsOnChange() {\n        var _temp, _this, _ret;\n\n        classCallCheck(this, WithPropsOnChange);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.computedProps = propsMapper(_this.props), _temp), possibleConstructorReturn(_this, _ret);\n      }\n\n      WithPropsOnChange.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n        if (shouldMap(this.props, nextProps)) {\n          this.computedProps = propsMapper(nextProps);\n        }\n      };\n\n      WithPropsOnChange.prototype.render = function render() {\n        return factory(_extends({}, this.props, this.computedProps));\n      };\n\n      return WithPropsOnChange;\n    }(Component);\n\n    if (process.env.NODE_ENV !== 'production') {\n      return setDisplayName(wrapDisplayName(BaseComponent, 'withPropsOnChange'))(WithPropsOnChange);\n    }\n    return WithPropsOnChange;\n  };\n};\n\nvar mapValues = function mapValues(obj, func) {\n  var result = {};\n  /* eslint-disable no-restricted-syntax */\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      result[key] = func(obj[key], key);\n    }\n  }\n  /* eslint-enable no-restricted-syntax */\n  return result;\n};\n\n/* eslint-disable no-console */\nvar withHandlers = function withHandlers(handlers) {\n  return function (BaseComponent) {\n    var factory = createFactory(BaseComponent);\n\n    var WithHandlers = function (_Component) {\n      inherits(WithHandlers, _Component);\n\n      function WithHandlers() {\n        var _temp, _this, _ret;\n\n        classCallCheck(this, WithHandlers);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _initialiseProps.call(_this), _temp), possibleConstructorReturn(_this, _ret);\n      }\n\n      WithHandlers.prototype.componentWillReceiveProps = function componentWillReceiveProps() {\n        this.cachedHandlers = {};\n      };\n\n      WithHandlers.prototype.render = function render() {\n        return factory(_extends({}, this.props, this.handlers));\n      };\n\n      return WithHandlers;\n    }(Component);\n\n    var _initialiseProps = function _initialiseProps() {\n      var _this2 = this;\n\n      this.cachedHandlers = {};\n      this.handlers = mapValues(typeof handlers === 'function' ? handlers(this.props) : handlers, function (createHandler, handlerName) {\n        return function () {\n          var cachedHandler = _this2.cachedHandlers[handlerName];\n          if (cachedHandler) {\n            return cachedHandler.apply(undefined, arguments);\n          }\n\n          var handler = createHandler(_this2.props);\n          _this2.cachedHandlers[handlerName] = handler;\n\n          if (process.env.NODE_ENV !== 'production' && typeof handler !== 'function') {\n            console.error(\n            // eslint-disable-line no-console\n            'withHandlers(): Expected a map of higher-order functions. ' + 'Refer to the docs for more info.');\n          }\n\n          return handler.apply(undefined, arguments);\n        };\n      });\n    };\n\n    if (process.env.NODE_ENV !== 'production') {\n      return setDisplayName(wrapDisplayName(BaseComponent, 'withHandlers'))(WithHandlers);\n    }\n    return WithHandlers;\n  };\n};\n\nvar defaultProps = function defaultProps(props) {\n  return function (BaseComponent) {\n    var factory = createFactory(BaseComponent);\n    var DefaultProps = function DefaultProps(ownerProps) {\n      return factory(ownerProps);\n    };\n    DefaultProps.defaultProps = props;\n    if (process.env.NODE_ENV !== 'production') {\n      return setDisplayName(wrapDisplayName(BaseComponent, 'defaultProps'))(DefaultProps);\n    }\n    return DefaultProps;\n  };\n};\n\nvar omit = function omit(obj, keys) {\n  var rest = objectWithoutProperties(obj, []);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (rest.hasOwnProperty(key)) {\n      delete rest[key];\n    }\n  }\n  return rest;\n};\n\nvar renameProp = function renameProp(oldName, newName) {\n  var hoc = mapProps(function (props) {\n    var _babelHelpers$extends;\n\n    return _extends({}, omit(props, [oldName]), (_babelHelpers$extends = {}, _babelHelpers$extends[newName] = props[oldName], _babelHelpers$extends));\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    return function (BaseComponent) {\n      return setDisplayName(wrapDisplayName(BaseComponent, 'renameProp'))(hoc(BaseComponent));\n    };\n  }\n  return hoc;\n};\n\nvar keys = Object.keys;\n\n\nvar mapKeys = function mapKeys(obj, func) {\n  return keys(obj).reduce(function (result, key) {\n    var val = obj[key];\n    /* eslint-disable no-param-reassign */\n    result[func(val, key)] = val;\n    /* eslint-enable no-param-reassign */\n    return result;\n  }, {});\n};\n\nvar renameProps = function renameProps(nameMap) {\n  var hoc = mapProps(function (props) {\n    return _extends({}, omit(props, keys(nameMap)), mapKeys(pick(props, keys(nameMap)), function (_, oldName) {\n      return nameMap[oldName];\n    }));\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    return function (BaseComponent) {\n      return setDisplayName(wrapDisplayName(BaseComponent, 'renameProps'))(hoc(BaseComponent));\n    };\n  }\n  return hoc;\n};\n\nvar flattenProp = function flattenProp(propName) {\n  return function (BaseComponent) {\n    var factory = createFactory(BaseComponent);\n    var FlattenProp = function FlattenProp(props) {\n      return factory(_extends({}, props, props[propName]));\n    };\n\n    if (process.env.NODE_ENV !== 'production') {\n      return setDisplayName(wrapDisplayName(BaseComponent, 'flattenProp'))(FlattenProp);\n    }\n    return FlattenProp;\n  };\n};\n\nvar withState = function withState(stateName, stateUpdaterName, initialState) {\n  return function (BaseComponent) {\n    var factory = createFactory(BaseComponent);\n\n    var WithState = function (_Component) {\n      inherits(WithState, _Component);\n\n      function WithState() {\n        var _temp, _this, _ret;\n\n        classCallCheck(this, WithState);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n          stateValue: typeof initialState === 'function' ? initialState(_this.props) : initialState\n        }, _this.updateStateValue = function (updateFn, callback) {\n          return _this.setState(function (_ref) {\n            var stateValue = _ref.stateValue;\n            return {\n              stateValue: typeof updateFn === 'function' ? updateFn(stateValue) : updateFn\n            };\n          }, callback);\n        }, _temp), possibleConstructorReturn(_this, _ret);\n      }\n\n      WithState.prototype.render = function render() {\n        var _babelHelpers$extends;\n\n        return factory(_extends({}, this.props, (_babelHelpers$extends = {}, _babelHelpers$extends[stateName] = this.state.stateValue, _babelHelpers$extends[stateUpdaterName] = this.updateStateValue, _babelHelpers$extends)));\n      };\n\n      return WithState;\n    }(Component);\n\n    if (process.env.NODE_ENV !== 'production') {\n      return setDisplayName(wrapDisplayName(BaseComponent, 'withState'))(WithState);\n    }\n    return WithState;\n  };\n};\n\nvar withStateHandlers = function withStateHandlers(initialState, stateUpdaters) {\n  return function (BaseComponent) {\n    var factory = createFactory(BaseComponent);\n\n    var WithStateHandlers = function (_Component) {\n      inherits(WithStateHandlers, _Component);\n\n      function WithStateHandlers() {\n        var _temp, _this, _ret;\n\n        classCallCheck(this, WithStateHandlers);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _initialiseProps.call(_this), _temp), possibleConstructorReturn(_this, _ret);\n      }\n\n      WithStateHandlers.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n        var propsChanged = nextProps !== this.props;\n        // the idea is to skip render if stateUpdater handler return undefined\n        // this allows to create no state update handlers with access to state and props\n        var stateChanged = !shallowEqual(nextState, this.state);\n        return propsChanged || stateChanged;\n      };\n\n      WithStateHandlers.prototype.render = function render() {\n        return factory(_extends({}, this.props, this.state, this.stateUpdaters));\n      };\n\n      return WithStateHandlers;\n    }(Component);\n\n    var _initialiseProps = function _initialiseProps() {\n      var _this2 = this;\n\n      this.state = typeof initialState === 'function' ? initialState(this.props) : initialState;\n      this.stateUpdaters = mapValues(stateUpdaters, function (handler) {\n        return function () {\n          for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          return _this2.setState(function (state, props) {\n            return handler(state, props).apply(undefined, args);\n          });\n        };\n      });\n    };\n\n    if (process.env.NODE_ENV !== 'production') {\n      return setDisplayName(wrapDisplayName(BaseComponent, 'withStateHandlers'))(WithStateHandlers);\n    }\n    return WithStateHandlers;\n  };\n};\n\nvar withReducer = function withReducer(stateName, dispatchName, reducer, initialState) {\n  return function (BaseComponent) {\n    var factory = createFactory(BaseComponent);\n\n    var WithReducer = function (_Component) {\n      inherits(WithReducer, _Component);\n\n      function WithReducer() {\n        var _temp, _this, _ret;\n\n        classCallCheck(this, WithReducer);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n          stateValue: _this.initializeStateValue()\n        }, _this.dispatch = function (action) {\n          return _this.setState(function (_ref) {\n            var stateValue = _ref.stateValue;\n            return {\n              stateValue: reducer(stateValue, action)\n            };\n          });\n        }, _temp), possibleConstructorReturn(_this, _ret);\n      }\n\n      WithReducer.prototype.initializeStateValue = function initializeStateValue() {\n        if (initialState !== undefined) {\n          return typeof initialState === 'function' ? initialState(this.props) : initialState;\n        }\n        return reducer(undefined, { type: '@@recompose/INIT' });\n      };\n\n      WithReducer.prototype.render = function render() {\n        var _babelHelpers$extends;\n\n        return factory(_extends({}, this.props, (_babelHelpers$extends = {}, _babelHelpers$extends[stateName] = this.state.stateValue, _babelHelpers$extends[dispatchName] = this.dispatch, _babelHelpers$extends)));\n      };\n\n      return WithReducer;\n    }(Component);\n\n    if (process.env.NODE_ENV !== 'production') {\n      return setDisplayName(wrapDisplayName(BaseComponent, 'withReducer'))(WithReducer);\n    }\n    return WithReducer;\n  };\n};\n\nvar identity = function identity(Component$$1) {\n  return Component$$1;\n};\n\nvar branch = function branch(test, left) {\n  var right = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : identity;\n  return function (BaseComponent) {\n    var leftFactory = void 0;\n    var rightFactory = void 0;\n    var Branch = function Branch(props) {\n      if (test(props)) {\n        leftFactory = leftFactory || createFactory(left(BaseComponent));\n        return leftFactory(props);\n      }\n      rightFactory = rightFactory || createFactory(right(BaseComponent));\n      return rightFactory(props);\n    };\n\n    if (process.env.NODE_ENV !== 'production') {\n      return setDisplayName(wrapDisplayName(BaseComponent, 'branch'))(Branch);\n    }\n    return Branch;\n  };\n};\n\nvar renderComponent = function renderComponent(Component$$1) {\n  return function (_) {\n    var factory = createFactory(Component$$1);\n    var RenderComponent = function RenderComponent(props) {\n      return factory(props);\n    };\n    if (process.env.NODE_ENV !== 'production') {\n      RenderComponent.displayName = wrapDisplayName(Component$$1, 'renderComponent');\n    }\n    return RenderComponent;\n  };\n};\n\nvar Nothing = function (_Component) {\n  inherits(Nothing, _Component);\n\n  function Nothing() {\n    classCallCheck(this, Nothing);\n    return possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  Nothing.prototype.render = function render() {\n    return null;\n  };\n\n  return Nothing;\n}(Component);\n\nvar renderNothing = function renderNothing(_) {\n  return Nothing;\n};\n\nvar shouldUpdate = function shouldUpdate(test) {\n  return function (BaseComponent) {\n    var factory = createFactory(BaseComponent);\n\n    var ShouldUpdate = function (_Component) {\n      inherits(ShouldUpdate, _Component);\n\n      function ShouldUpdate() {\n        classCallCheck(this, ShouldUpdate);\n        return possibleConstructorReturn(this, _Component.apply(this, arguments));\n      }\n\n      ShouldUpdate.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n        return test(this.props, nextProps);\n      };\n\n      ShouldUpdate.prototype.render = function render() {\n        return factory(this.props);\n      };\n\n      return ShouldUpdate;\n    }(Component);\n\n    if (process.env.NODE_ENV !== 'production') {\n      return setDisplayName(wrapDisplayName(BaseComponent, 'shouldUpdate'))(ShouldUpdate);\n    }\n    return ShouldUpdate;\n  };\n};\n\nvar pure = function pure(BaseComponent) {\n  var hoc = shouldUpdate(function (props, nextProps) {\n    return !shallowEqual(props, nextProps);\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    return setDisplayName(wrapDisplayName(BaseComponent, 'pure'))(hoc(BaseComponent));\n  }\n\n  return hoc(BaseComponent);\n};\n\nvar onlyUpdateForKeys = function onlyUpdateForKeys(propKeys) {\n  var hoc = shouldUpdate(function (props, nextProps) {\n    return !shallowEqual(pick(nextProps, propKeys), pick(props, propKeys));\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    return function (BaseComponent) {\n      return setDisplayName(wrapDisplayName(BaseComponent, 'onlyUpdateForKeys'))(hoc(BaseComponent));\n    };\n  }\n  return hoc;\n};\n\nvar onlyUpdateForPropTypes = function onlyUpdateForPropTypes(BaseComponent) {\n  var propTypes = BaseComponent.propTypes;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (!propTypes) {\n      /* eslint-disable */\n      console.error('A component without any `propTypes` was passed to ' + '`onlyUpdateForPropTypes()`. Check the implementation of the ' + ('component with display name \"' + getDisplayName(BaseComponent) + '\".'));\n      /* eslint-enable */\n    }\n  }\n\n  var propKeys = Object.keys(propTypes || {});\n  var OnlyUpdateForPropTypes = onlyUpdateForKeys(propKeys)(BaseComponent);\n\n  if (process.env.NODE_ENV !== 'production') {\n    return setDisplayName(wrapDisplayName(BaseComponent, 'onlyUpdateForPropTypes'))(OnlyUpdateForPropTypes);\n  }\n  return OnlyUpdateForPropTypes;\n};\n\nvar withContext = function withContext(childContextTypes, getChildContext) {\n  return function (BaseComponent) {\n    var factory = createFactory(BaseComponent);\n\n    var WithContext = function (_Component) {\n      inherits(WithContext, _Component);\n\n      function WithContext() {\n        var _temp, _this, _ret;\n\n        classCallCheck(this, WithContext);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.getChildContext = function () {\n          return getChildContext(_this.props);\n        }, _temp), possibleConstructorReturn(_this, _ret);\n      }\n\n      WithContext.prototype.render = function render() {\n        return factory(this.props);\n      };\n\n      return WithContext;\n    }(Component);\n\n    WithContext.childContextTypes = childContextTypes;\n\n    if (process.env.NODE_ENV !== 'production') {\n      return setDisplayName(wrapDisplayName(BaseComponent, 'withContext'))(WithContext);\n    }\n    return WithContext;\n  };\n};\n\nvar getContext = function getContext(contextTypes) {\n  return function (BaseComponent) {\n    var factory = createFactory(BaseComponent);\n    var GetContext = function GetContext(ownerProps, context) {\n      return factory(_extends({}, ownerProps, context));\n    };\n\n    GetContext.contextTypes = contextTypes;\n\n    if (process.env.NODE_ENV !== 'production') {\n      return setDisplayName(wrapDisplayName(BaseComponent, 'getContext'))(GetContext);\n    }\n    return GetContext;\n  };\n};\n\n/* eslint-disable no-console */\nvar lifecycle = function lifecycle(spec) {\n  return function (BaseComponent) {\n    var factory = createFactory(BaseComponent);\n\n    if (process.env.NODE_ENV !== 'production' && spec.hasOwnProperty('render')) {\n      console.error('lifecycle() does not support the render method; its behavior is to ' + 'pass all props and state to the base component.');\n    }\n\n    var Lifecycle = function (_Component) {\n      inherits(Lifecycle, _Component);\n\n      function Lifecycle() {\n        classCallCheck(this, Lifecycle);\n        return possibleConstructorReturn(this, _Component.apply(this, arguments));\n      }\n\n      Lifecycle.prototype.render = function render() {\n        return factory(_extends({}, this.props, this.state));\n      };\n\n      return Lifecycle;\n    }(Component);\n\n    Object.keys(spec).forEach(function (hook) {\n      return Lifecycle.prototype[hook] = spec[hook];\n    });\n\n    if (process.env.NODE_ENV !== 'production') {\n      return setDisplayName(wrapDisplayName(BaseComponent, 'lifecycle'))(Lifecycle);\n    }\n    return Lifecycle;\n  };\n};\n\nvar toClass = function toClass(baseComponent) {\n  if (isClassComponent(baseComponent)) {\n    return baseComponent;\n  }\n\n  var ToClass = function (_Component) {\n    inherits(ToClass, _Component);\n\n    function ToClass() {\n      classCallCheck(this, ToClass);\n      return possibleConstructorReturn(this, _Component.apply(this, arguments));\n    }\n\n    ToClass.prototype.render = function render() {\n      if (typeof baseComponent === 'string') {\n        return React.createElement(baseComponent, this.props);\n      }\n      return baseComponent(this.props, this.context);\n    };\n\n    return ToClass;\n  }(Component);\n\n  ToClass.displayName = getDisplayName(baseComponent);\n  ToClass.propTypes = baseComponent.propTypes;\n  ToClass.contextTypes = baseComponent.contextTypes;\n  ToClass.defaultProps = baseComponent.defaultProps;\n\n  return ToClass;\n};\n\nvar setPropTypes = function setPropTypes(propTypes) {\n  return setStatic('propTypes', propTypes);\n};\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(undefined, arguments));\n    };\n  });\n}\n\nvar createEagerElement = function createEagerElement(type, props, children) {\n  var isReferentiallyTransparent = isReferentiallyTransparentFunctionComponent(type);\n  /* eslint-disable */\n  var hasKey = props && props.hasOwnProperty('key');\n  /* eslint-enable */\n  return createEagerElementUtil(hasKey, isReferentiallyTransparent, type, props, children);\n};\n\nvar createSink = function createSink(callback) {\n  return function (_Component) {\n    inherits(Sink, _Component);\n\n    function Sink() {\n      classCallCheck(this, Sink);\n      return possibleConstructorReturn(this, _Component.apply(this, arguments));\n    }\n\n    Sink.prototype.componentWillMount = function componentWillMount() {\n      callback(this.props);\n    };\n\n    Sink.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      callback(nextProps);\n    };\n\n    Sink.prototype.render = function render() {\n      return null;\n    };\n\n    return Sink;\n  }(Component);\n};\n\nvar componentFromProp = function componentFromProp(propName) {\n  var Component$$1 = function Component$$1(props) {\n    return createEagerElement(props[propName], omit(props, [propName]));\n  };\n  Component$$1.displayName = 'componentFromProp(' + propName + ')';\n  return Component$$1;\n};\n\nvar nest = function nest() {\n  for (var _len = arguments.length, Components = Array(_len), _key = 0; _key < _len; _key++) {\n    Components[_key] = arguments[_key];\n  }\n\n  var factories = Components.map(createFactory);\n  var Nest = function Nest(_ref) {\n    var props = objectWithoutProperties(_ref, []),\n        children = _ref.children;\n    return factories.reduceRight(function (child, factory) {\n      return factory(props, child);\n    }, children);\n  };\n\n  if (process.env.NODE_ENV !== 'production') {\n    var displayNames = Components.map(getDisplayName);\n    Nest.displayName = 'nest(' + displayNames.join(', ') + ')';\n  }\n\n  return Nest;\n};\n\nvar hoistStatics = function hoistStatics(higherOrderComponent) {\n  return function (BaseComponent) {\n    var NewComponent = higherOrderComponent(BaseComponent);\n    hoistNonReactStatics(NewComponent, BaseComponent);\n    return NewComponent;\n  };\n};\n\nvar _config = {\n  fromESObservable: null,\n  toESObservable: null\n};\n\nvar configureObservable = function configureObservable(c) {\n  _config = c;\n};\n\nvar config = {\n  fromESObservable: function fromESObservable(observable) {\n    return typeof _config.fromESObservable === 'function' ? _config.fromESObservable(observable) : observable;\n  },\n  toESObservable: function toESObservable(stream) {\n    return typeof _config.toESObservable === 'function' ? _config.toESObservable(stream) : stream;\n  }\n};\n\nvar componentFromStreamWithConfig = function componentFromStreamWithConfig(config$$1) {\n  return function (propsToVdom) {\n    return function (_Component) {\n      inherits(ComponentFromStream, _Component);\n\n      function ComponentFromStream() {\n        var _config$fromESObserva;\n\n        var _temp, _this, _ret;\n\n        classCallCheck(this, ComponentFromStream);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = { vdom: null }, _this.propsEmitter = createChangeEmitter(), _this.props$ = config$$1.fromESObservable((_config$fromESObserva = {\n          subscribe: function subscribe(observer) {\n            var unsubscribe = _this.propsEmitter.listen(function (props) {\n              if (props) {\n                observer.next(props);\n              } else {\n                observer.complete();\n              }\n            });\n            return { unsubscribe: unsubscribe };\n          }\n        }, _config$fromESObserva[$$observable] = function () {\n          return this;\n        }, _config$fromESObserva)), _this.vdom$ = config$$1.toESObservable(propsToVdom(_this.props$)), _temp), possibleConstructorReturn(_this, _ret);\n      }\n\n      // Stream of props\n\n\n      // Stream of vdom\n\n\n      ComponentFromStream.prototype.componentWillMount = function componentWillMount() {\n        var _this2 = this;\n\n        // Subscribe to child prop changes so we know when to re-render\n        this.subscription = this.vdom$.subscribe({\n          next: function next(vdom) {\n            _this2.setState({ vdom: vdom });\n          }\n        });\n        this.propsEmitter.emit(this.props);\n      };\n\n      ComponentFromStream.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n        // Receive new props from the owner\n        this.propsEmitter.emit(nextProps);\n      };\n\n      ComponentFromStream.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n        return nextState.vdom !== this.state.vdom;\n      };\n\n      ComponentFromStream.prototype.componentWillUnmount = function componentWillUnmount() {\n        // Call without arguments to complete stream\n        this.propsEmitter.emit();\n\n        // Clean-up subscription before un-mounting\n        this.subscription.unsubscribe();\n      };\n\n      ComponentFromStream.prototype.render = function render() {\n        return this.state.vdom;\n      };\n\n      return ComponentFromStream;\n    }(Component);\n  };\n};\n\nvar componentFromStream = function componentFromStream(propsToVdom) {\n  return componentFromStreamWithConfig(config)(propsToVdom);\n};\n\nvar identity$1 = function identity(t) {\n  return t;\n};\n\nvar mapPropsStreamWithConfig = function mapPropsStreamWithConfig(config$$1) {\n  var componentFromStream = componentFromStreamWithConfig({\n    fromESObservable: identity$1,\n    toESObservable: identity$1\n  });\n  return function (transform) {\n    return function (BaseComponent) {\n      var factory = createFactory(BaseComponent);\n      var fromESObservable = config$$1.fromESObservable,\n          toESObservable = config$$1.toESObservable;\n\n      return componentFromStream(function (props$) {\n        var _ref;\n\n        return _ref = {\n          subscribe: function subscribe(observer) {\n            var subscription = toESObservable(transform(fromESObservable(props$))).subscribe({\n              next: function next(childProps) {\n                return observer.next(factory(childProps));\n              }\n            });\n            return {\n              unsubscribe: function unsubscribe() {\n                return subscription.unsubscribe();\n              }\n            };\n          }\n        }, _ref[$$observable] = function () {\n          return this;\n        }, _ref;\n      });\n    };\n  };\n};\n\nvar mapPropsStream = function mapPropsStream(transform) {\n  var hoc = mapPropsStreamWithConfig(config)(transform);\n\n  if (process.env.NODE_ENV !== 'production') {\n    return function (BaseComponent) {\n      return setDisplayName(wrapDisplayName(BaseComponent, 'mapPropsStream'))(hoc(BaseComponent));\n    };\n  }\n  return hoc;\n};\n\nvar createEventHandlerWithConfig = function createEventHandlerWithConfig(config$$1) {\n  return function () {\n    var _config$fromESObserva;\n\n    var emitter = createChangeEmitter();\n    var stream = config$$1.fromESObservable((_config$fromESObserva = {\n      subscribe: function subscribe(observer) {\n        var unsubscribe = emitter.listen(function (value) {\n          return observer.next(value);\n        });\n        return { unsubscribe: unsubscribe };\n      }\n    }, _config$fromESObserva[$$observable] = function () {\n      return this;\n    }, _config$fromESObserva));\n    return {\n      handler: emitter.emit,\n      stream: stream\n    };\n  };\n};\n\nvar createEventHandler = createEventHandlerWithConfig(config);\n\n// Higher-order component helpers\n\nexport { mapProps, withProps, withPropsOnChange, withHandlers, defaultProps, renameProp, renameProps, flattenProp, withState, withStateHandlers, withReducer, branch, renderComponent, renderNothing, shouldUpdate, pure, onlyUpdateForKeys, onlyUpdateForPropTypes, withContext, getContext, lifecycle, toClass, setStatic, setPropTypes, setDisplayName, compose, getDisplayName, wrapDisplayName, shallowEqual, isClassComponent, createEagerElement, createFactory as createEagerFactory, createSink, componentFromProp, nest, hoistStatics, componentFromStream, componentFromStreamWithConfig, mapPropsStream, mapPropsStreamWithConfig, createEventHandler, configureObservable as setObservableConfig };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/recompose/es/Recompose.js\n// module id = 13\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = 14\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n * \n */\n\n/*eslint-disable no-self-compare */\n\n'use strict';\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  // SameValue algorithm\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    // Added the nonzero y check to make Flow happy, but it is redundant\n    return x !== 0 || y !== 0 || 1 / x === 1 / y;\n  } else {\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n  }\n}\n\n/**\n * Performs equality by iterating through keys on an object and returning false\n * when any key has values which are not strictly equal between the arguments.\n * Returns true when the values of all keys are strictly equal.\n */\nfunction shallowEqual(objA, objB) {\n  if (is(objA, objB)) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  for (var i = 0; i < keysA.length; i++) {\n    if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = shallowEqual;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/fbjs/lib/shallowEqual.js\n// module id = 15\n// module chunks = 0","/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n'use strict';\n\nvar REACT_STATICS = {\n    childContextTypes: true,\n    contextTypes: true,\n    defaultProps: true,\n    displayName: true,\n    getDefaultProps: true,\n    mixins: true,\n    propTypes: true,\n    type: true\n};\n\nvar KNOWN_STATICS = {\n    name: true,\n    length: true,\n    prototype: true,\n    caller: true,\n    arguments: true,\n    arity: true\n};\n\nvar isGetOwnPropertySymbolsAvailable = typeof Object.getOwnPropertySymbols === 'function';\n\nmodule.exports = function hoistNonReactStatics(targetComponent, sourceComponent, customStatics) {\n    if (typeof sourceComponent !== 'string') { // don't hoist over string (html) components\n        var keys = Object.getOwnPropertyNames(sourceComponent);\n\n        /* istanbul ignore else */\n        if (isGetOwnPropertySymbolsAvailable) {\n            keys = keys.concat(Object.getOwnPropertySymbols(sourceComponent));\n        }\n\n        for (var i = 0; i < keys.length; ++i) {\n            if (!REACT_STATICS[keys[i]] && !KNOWN_STATICS[keys[i]] && (!customStatics || !customStatics[keys[i]])) {\n                try {\n                    targetComponent[keys[i]] = sourceComponent[keys[i]];\n                } catch (error) {\n\n                }\n            }\n        }\n    }\n\n    return targetComponent;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/hoist-non-react-statics/index.js\n// module id = 16\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar createChangeEmitter = exports.createChangeEmitter = function createChangeEmitter() {\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n\n  function listen(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected listener to be a function.');\n    }\n\n    var isSubscribed = true;\n\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n\n    return function () {\n      if (!isSubscribed) {\n        return;\n      }\n\n      isSubscribed = false;\n\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n\n  function emit() {\n    currentListeners = nextListeners;\n    var listeners = currentListeners;\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i].apply(listeners, arguments);\n    }\n  }\n\n  return {\n    listen: listen,\n    emit: emit\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/change-emitter/lib/index.js\n// module id = 17\n// module chunks = 0","module.exports = require('./lib/index');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/symbol-observable/index.js\n// module id = 18\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ponyfill = require('./ponyfill');\n\nvar _ponyfill2 = _interopRequireDefault(_ponyfill);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar root; /* global window */\n\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = (0, _ponyfill2['default'])(root);\nexports['default'] = result;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/symbol-observable/lib/index.js\n// module id = 19\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 20\n// module chunks = 0","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 21\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports['default'] = symbolObservablePonyfill;\nfunction symbolObservablePonyfill(root) {\n\tvar result;\n\tvar _Symbol = root.Symbol;\n\n\tif (typeof _Symbol === 'function') {\n\t\tif (_Symbol.observable) {\n\t\t\tresult = _Symbol.observable;\n\t\t} else {\n\t\t\tresult = _Symbol('observable');\n\t\t\t_Symbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/symbol-observable/lib/ponyfill.js\n// module id = 22\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _ImmutableUtils = require('./ImmutableUtils');\n\nvar ImmutableUtils = _interopRequireWildcard(_ImmutableUtils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar getDefaultGetId = function getDefaultGetId(idAttribute) {\n  return function (input) {\n    return ImmutableUtils.isImmutable(input) ? input.get(idAttribute) : input[idAttribute];\n  };\n};\n\nvar EntitySchema = function () {\n  function EntitySchema(key) {\n    var definition = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, EntitySchema);\n\n    if (!key || typeof key !== 'string') {\n      throw new Error('Expected a string key for Entity, but found ' + key + '.');\n    }\n\n    var _options$idAttribute = options.idAttribute,\n        idAttribute = _options$idAttribute === undefined ? 'id' : _options$idAttribute,\n        _options$mergeStrateg = options.mergeStrategy,\n        mergeStrategy = _options$mergeStrateg === undefined ? function (entityA, entityB) {\n      return _extends({}, entityA, entityB);\n    } : _options$mergeStrateg,\n        _options$processStrat = options.processStrategy,\n        processStrategy = _options$processStrat === undefined ? function (input) {\n      return _extends({}, input);\n    } : _options$processStrat;\n\n\n    this._key = key;\n    this._getId = typeof idAttribute === 'function' ? idAttribute : getDefaultGetId(idAttribute);\n    this._idAttribute = idAttribute;\n    this._mergeStrategy = mergeStrategy;\n    this._processStrategy = processStrategy;\n    this.define(definition);\n  }\n\n  _createClass(EntitySchema, [{\n    key: 'define',\n    value: function define(definition) {\n      this.schema = Object.keys(definition).reduce(function (entitySchema, key) {\n        var schema = definition[key];\n        return _extends({}, entitySchema, _defineProperty({}, key, schema));\n      }, this.schema || {});\n    }\n  }, {\n    key: 'getId',\n    value: function getId(input, parent, key) {\n      return this._getId(input, parent, key);\n    }\n  }, {\n    key: 'merge',\n    value: function merge(entityA, entityB) {\n      return this._mergeStrategy(entityA, entityB);\n    }\n  }, {\n    key: 'normalize',\n    value: function normalize(input, parent, key, visit, addEntity) {\n      var _this = this;\n\n      var processedEntity = this._processStrategy(input, parent, key);\n      Object.keys(this.schema).forEach(function (key) {\n        if (processedEntity.hasOwnProperty(key) && _typeof(processedEntity[key]) === 'object') {\n          var schema = _this.schema[key];\n          processedEntity[key] = visit(processedEntity[key], processedEntity, key, schema, addEntity);\n        }\n      });\n\n      addEntity(this, processedEntity, input, parent, key);\n      return this.getId(input, parent, key);\n    }\n  }, {\n    key: 'denormalize',\n    value: function denormalize(entity, unvisit) {\n      var _this2 = this;\n\n      if (ImmutableUtils.isImmutable(entity)) {\n        return ImmutableUtils.denormalizeImmutable(this.schema, entity, unvisit);\n      }\n\n      Object.keys(this.schema).forEach(function (key) {\n        if (entity.hasOwnProperty(key)) {\n          var schema = _this2.schema[key];\n          entity[key] = unvisit(entity[key], schema);\n        }\n      });\n      return entity;\n    }\n  }, {\n    key: 'key',\n    get: function get() {\n      return this._key;\n    }\n  }, {\n    key: 'idAttribute',\n    get: function get() {\n      return this._idAttribute;\n    }\n  }]);\n\n  return EntitySchema;\n}();\n\nexports.default = EntitySchema;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/normalizr/dist/src/schemas/Entity.js\n// module id = 23\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Polymorphic = require('./Polymorphic');\n\nvar _Polymorphic2 = _interopRequireDefault(_Polymorphic);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar UnionSchema = function (_PolymorphicSchema) {\n  _inherits(UnionSchema, _PolymorphicSchema);\n\n  function UnionSchema(definition, schemaAttribute) {\n    _classCallCheck(this, UnionSchema);\n\n    if (!schemaAttribute) {\n      throw new Error('Expected option \"schemaAttribute\" not found on UnionSchema.');\n    }\n    return _possibleConstructorReturn(this, (UnionSchema.__proto__ || Object.getPrototypeOf(UnionSchema)).call(this, definition, schemaAttribute));\n  }\n\n  _createClass(UnionSchema, [{\n    key: 'normalize',\n    value: function normalize(input, parent, key, visit, addEntity) {\n      return this.normalizeValue(input, parent, key, visit, addEntity);\n    }\n  }, {\n    key: 'denormalize',\n    value: function denormalize(input, unvisit) {\n      return this.denormalizeValue(input, unvisit);\n    }\n  }]);\n\n  return UnionSchema;\n}(_Polymorphic2.default);\n\nexports.default = UnionSchema;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/normalizr/dist/src/schemas/Union.js\n// module id = 24\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Polymorphic = require('./Polymorphic');\n\nvar _Polymorphic2 = _interopRequireDefault(_Polymorphic);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ValuesSchema = function (_PolymorphicSchema) {\n  _inherits(ValuesSchema, _PolymorphicSchema);\n\n  function ValuesSchema() {\n    _classCallCheck(this, ValuesSchema);\n\n    return _possibleConstructorReturn(this, (ValuesSchema.__proto__ || Object.getPrototypeOf(ValuesSchema)).apply(this, arguments));\n  }\n\n  _createClass(ValuesSchema, [{\n    key: 'normalize',\n    value: function normalize(input, parent, key, visit, addEntity) {\n      var _this2 = this;\n\n      return Object.keys(input).reduce(function (output, key, index) {\n        var value = input[key];\n        return value !== undefined && value !== null ? _extends({}, output, _defineProperty({}, key, _this2.normalizeValue(value, input, key, visit, addEntity))) : output;\n      }, {});\n    }\n  }, {\n    key: 'denormalize',\n    value: function denormalize(input, unvisit) {\n      var _this3 = this;\n\n      return Object.keys(input).reduce(function (output, key) {\n        var entityOrId = input[key];\n        return _extends({}, output, _defineProperty({}, key, _this3.denormalizeValue(entityOrId, unvisit)));\n      }, {});\n    }\n  }]);\n\n  return ValuesSchema;\n}(_Polymorphic2.default);\n\nexports.default = ValuesSchema;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/normalizr/dist/src/schemas/Values.js\n// module id = 25\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.denormalize = exports.normalize = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Polymorphic = require('./Polymorphic');\n\nvar _Polymorphic2 = _interopRequireDefault(_Polymorphic);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar validateSchema = function validateSchema(definition) {\n  var isArray = Array.isArray(definition);\n  if (isArray && definition.length > 1) {\n    throw new Error('Expected schema definition to be a single schema, but found ' + definition.length + '.');\n  }\n\n  return definition[0];\n};\n\nvar getValues = function getValues(input) {\n  return Array.isArray(input) ? input : Object.keys(input).map(function (key) {\n    return input[key];\n  });\n};\n\nvar normalize = exports.normalize = function normalize(schema, input, parent, key, visit, addEntity) {\n  schema = validateSchema(schema);\n\n  var values = getValues(input);\n\n  // Special case: Arrays pass *their* parent on to their children, since there\n  // is not any special information that can be gathered from themselves directly\n  return values.map(function (value, index) {\n    return visit(value, parent, key, schema, addEntity);\n  });\n};\n\nvar denormalize = exports.denormalize = function denormalize(schema, input, unvisit) {\n  schema = validateSchema(schema);\n  return input && input.map ? input.map(function (entityOrId) {\n    return unvisit(entityOrId, schema);\n  }) : input;\n};\n\nvar ArraySchema = function (_PolymorphicSchema) {\n  _inherits(ArraySchema, _PolymorphicSchema);\n\n  function ArraySchema() {\n    _classCallCheck(this, ArraySchema);\n\n    return _possibleConstructorReturn(this, (ArraySchema.__proto__ || Object.getPrototypeOf(ArraySchema)).apply(this, arguments));\n  }\n\n  _createClass(ArraySchema, [{\n    key: 'normalize',\n    value: function normalize(input, parent, key, visit, addEntity) {\n      var _this2 = this;\n\n      var values = getValues(input);\n\n      return values.map(function (value, index) {\n        return _this2.normalizeValue(value, parent, key, visit, addEntity);\n      }).filter(function (value) {\n        return value !== undefined && value !== null;\n      });\n    }\n  }, {\n    key: 'denormalize',\n    value: function denormalize(input, unvisit) {\n      var _this3 = this;\n\n      return input && input.map ? input.map(function (value) {\n        return _this3.denormalizeValue(value, unvisit);\n      }) : input;\n    }\n  }]);\n\n  return ArraySchema;\n}(_Polymorphic2.default);\n\nexports.default = ArraySchema;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/normalizr/dist/src/schemas/Array.js\n// module id = 26\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.denormalize = exports.normalize = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _ImmutableUtils = require('./ImmutableUtils');\n\nvar ImmutableUtils = _interopRequireWildcard(_ImmutableUtils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _normalize = function _normalize(schema, input, parent, key, visit, addEntity) {\n  var object = _extends({}, input);\n  Object.keys(schema).forEach(function (key) {\n    var localSchema = schema[key];\n    var value = visit(input[key], input, key, localSchema, addEntity);\n    if (value === undefined || value === null) {\n      delete object[key];\n    } else {\n      object[key] = value;\n    }\n  });\n  return object;\n};\n\nexports.normalize = _normalize;\nvar _denormalize = function _denormalize(schema, input, unvisit) {\n  if (ImmutableUtils.isImmutable(input)) {\n    return ImmutableUtils.denormalizeImmutable(schema, input, unvisit);\n  }\n\n  var object = _extends({}, input);\n  Object.keys(schema).forEach(function (key) {\n    if (object[key]) {\n      object[key] = unvisit(object[key], schema[key]);\n    }\n  });\n  return object;\n};\n\nexports.denormalize = _denormalize;\n\nvar ObjectSchema = function () {\n  function ObjectSchema(definition) {\n    _classCallCheck(this, ObjectSchema);\n\n    this.define(definition);\n  }\n\n  _createClass(ObjectSchema, [{\n    key: 'define',\n    value: function define(definition) {\n      this.schema = Object.keys(definition).reduce(function (entitySchema, key) {\n        var schema = definition[key];\n        return _extends({}, entitySchema, _defineProperty({}, key, schema));\n      }, this.schema || {});\n    }\n  }, {\n    key: 'normalize',\n    value: function normalize() {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _normalize.apply(undefined, [this.schema].concat(args));\n    }\n  }, {\n    key: 'denormalize',\n    value: function denormalize() {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return _denormalize.apply(undefined, [this.schema].concat(args));\n    }\n  }]);\n\n  return ObjectSchema;\n}();\n\nexports.default = ObjectSchema;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/normalizr/dist/src/schemas/Object.js\n// module id = 27\n// module chunks = 0","\"use babel\";\r\n// @flow\r\nimport { schema } from \"normalizr\";\r\nimport { buildSchema } from \"graphql\";\r\nimport type { GraphQLSchema } from \"graphql\";\r\nimport configureMiddleware from \"./middleware\";\r\nimport configureReducer from \"./reducer\";\r\nimport configureActions from \"./actions\";\r\nimport configureConnecter from \"./hoc\";\r\nimport { graphQLizr, graphQLRecordr } from \"./graphqlTypesConverters\";\r\nimport { convertsTypesSchemaToSelectorSchema } from \"./selectors\";\r\n\r\nexport function configure(\r\n  graphQLSchema: GraphQLSchema | string,\r\n  context?: mixed,\r\n  rootValue?: any,\r\n  { __debug = false }: { __debug?: boolean } = {},\r\n) {\r\n  const graphQLCompiledSchema =\r\n    typeof graphQLSchema === \"string\"\r\n      ? buildSchema(graphQLSchema)\r\n      : graphQLSchema;\r\n  const selectorSchema = convertsTypesSchemaToSelectorSchema(\r\n    graphQLCompiledSchema,\r\n    { __debug },\r\n  );\r\n  const normalizrModel = graphQLizr(graphQLCompiledSchema);\r\n  const recordsModel = graphQLRecordr(graphQLCompiledSchema);\r\n  const actions = configureActions();\r\n  const middleware = configureMiddleware(\r\n    graphQLCompiledSchema,\r\n    actions,\r\n    normalizrModel,\r\n    context,\r\n    rootValue,\r\n  );\r\n  const reducer = configureReducer(\r\n    normalizrModel.entities,\r\n    recordsModel,\r\n    graphQLCompiledSchema,\r\n  );\r\n  const { GraphQLConnecter, DataFetcher, DataHandlers } = configureConnecter({\r\n    selectorSchema,\r\n    typesSchema: graphQLCompiledSchema,\r\n    recordTypes: recordsModel,\r\n    actions,\r\n  });\r\n  return {\r\n    actions,\r\n    middleware,\r\n    reducer,\r\n    normalizrModel,\r\n    recordsModel,\r\n    selectorSchema,\r\n    GraphQLConnecter,\r\n    DataFetcher,\r\n    DataHandlers,\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/configurer.js","// @flow\r\n\r\nimport type { Middleware, MiddlewareAPI } from \"redux\";\r\nimport type { GraphQLSchema } from \"graphql\";\r\nimport { hashString, hashMutationQuery } from \"./utils\";\r\nimport { graphql } from \"graphql\";\r\nimport { getDataFromResponse } from \"./graphqlTypesConverters\";\r\nimport Mutation from \"./Mutation\";\r\nimport Query from \"./Query\";\r\n\r\nexport default function(\r\n  schema: GraphQLSchema,\r\n  actions: { [actionName: string]: (...params: any) => Object },\r\n  normalizrModel: any,\r\n  context?: any,\r\n  rootValue?: any,\r\n): Middleware<any, any> {\r\n  return (store: MiddlewareAPI<any, any>) => (\r\n    next: (action: Object) => void,\r\n  ) => (action: Object) => {\r\n    if (\r\n      (action.type === \"GRAPHQL_FETCH\" || action.type === \"GRAPHQL_MUTATION\") &&\r\n      action.graphql\r\n    ) {\r\n      if (action.type === \"GRAPHQL_FETCH\") {\r\n        const query =\r\n          action.payload instanceof Query\r\n            ? action.payload.queryQL\r\n            : action.payload;\r\n        const hash = hashString(query);\r\n        const request = {\r\n          ql: query,\r\n          hash,\r\n        };\r\n\r\n        store.dispatch(actions.queryStarted({ request }));\r\n        const variableValues =\r\n          action.payload instanceof Query ? action.payload.variables : {};\r\n        const operationName =\r\n          action.payload instanceof Query\r\n            ? action.payload.operationName\r\n            : undefined;\r\n        graphql(\r\n          schema,\r\n          query,\r\n          rootValue,\r\n          {\r\n            store,\r\n            dependencies: context,\r\n          },\r\n          variableValues,\r\n          operationName,\r\n        ).then(result => {\r\n          if (result.errors === undefined && result.data) {\r\n            store.dispatch(\r\n              actions.packageData(\r\n                getDataFromResponse(normalizrModel.converters, result.data),\r\n                {\r\n                  request,\r\n                  response: {\r\n                    raw: result.data,\r\n                  },\r\n                },\r\n              ),\r\n            );\r\n          } else {\r\n            console.error(\r\n              \"GraphQL query\",\r\n              query,\r\n              \"has failed.\\n\",\r\n              \"errors:\",\r\n              result.errors,\r\n            );\r\n            store.dispatch(actions.queryFailed({ request }, result.errors));\r\n          }\r\n        });\r\n      } else {\r\n        const mutation: Mutation = action.payload.mutation;\r\n        const hash = action.payload.queryID;\r\n        const request = {\r\n          ql: mutation.mutationQL,\r\n          hash,\r\n        };\r\n        store.dispatch(actions.queryStarted({ request }));\r\n        graphql(\r\n          schema,\r\n          mutation.mutationQL,\r\n          rootValue,\r\n          {\r\n            store,\r\n            dependencies: context,\r\n          },\r\n          mutation.variables,\r\n          mutation.operationName,\r\n        ).then(result => {\r\n          if (result.errors === undefined && result.data) {\r\n            store.dispatch(\r\n              actions.packageData(\r\n                getDataFromResponse(normalizrModel.converters, result.data),\r\n                {\r\n                  request,\r\n                  response: {\r\n                    raw: result.data,\r\n                  },\r\n                },\r\n              ),\r\n            );\r\n            mutation.onCompleted();\r\n          } else {\r\n            console.error(\r\n              \"GraphQL mutation\",\r\n              mutation.mutationQL,\r\n              \"has failed.\\n\",\r\n              \"errors:\",\r\n              result.errors,\r\n            );\r\n            store.dispatch(actions.queryFailed({ request }, result.errors));\r\n            mutation.onError();\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      return next(action);\r\n    }\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/middleware.js","// @flow\r\n\r\nexport default class Query {\r\n  queryQL: string;\r\n  variables: { [variableName: string]: mixed };\r\n  onError: () => void;\r\n  onCompleted: () => void;\r\n  operationName: ?string;\r\n\r\n  constructor(\r\n    {\r\n      queryQL,\r\n      variables = {},\r\n      onError = () => {},\r\n      onCompleted = () => {},\r\n      operationName,\r\n    }: {\r\n      queryQL: string,\r\n      variables?: { [variableName: string]: mixed },\r\n      onError?: () => void,\r\n      onCompleted?: () => void,\r\n      operationName?: string,\r\n    } = {},\r\n  ) {\r\n    if (queryQL == null) {\r\n      throw new Error(\r\n        \"queryQL has to be defined in the params of new Query: new Query({queryQL: `query ...`})\",\r\n      );\r\n    }\r\n    this.queryQL = queryQL;\r\n    this.variables = variables;\r\n    this.onError = onError;\r\n    this.onCompleted = onCompleted;\r\n    this.operationName = operationName;\r\n  }\r\n\r\n  setOperationName(name: string) {\r\n    return new Query({\r\n      queryQL: this.queryQL,\r\n      variables: this.variables,\r\n      onError: this.onError,\r\n      onCompleted: this.onCompleted,\r\n      operationName: name,\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Query.js","\"use babel\";\r\n// @flow\r\n\r\nimport Mutation from \"./Mutation\";\r\n\r\ntype QueryRequest = {\r\n  ql: string,\r\n  hash: string | number,\r\n};\r\n\r\ntype QueryDetails = {\r\n  request: QueryRequest,\r\n  response?: {\r\n    raw: Object,\r\n  },\r\n};\r\n\r\nexport default function configureActions() {\r\n  return {\r\n    mutateData(mutation: Mutation, queryID: string) {\r\n      return {\r\n        type: \"GRAPHQL_MUTATION\",\r\n        graphql: true,\r\n        payload: {\r\n          mutation,\r\n          queryID,\r\n        },\r\n      };\r\n    },\r\n    fetchData(needs: string) {\r\n      return {\r\n        type: \"GRAPHQL_FETCH\",\r\n        graphql: true,\r\n        payload: needs,\r\n      };\r\n    },\r\n    bustQueryCache(queryID: string) {\r\n      return {\r\n        type: \"QUERY_CACHE_BUSTED\",\r\n        payload: {\r\n          queryID,\r\n        },\r\n      };\r\n    },\r\n    packageData(data: Object, query?: QueryDetails) {\r\n      return {\r\n        type: \"DATA_RECEIVED\",\r\n        payload: {\r\n          entities: data,\r\n          query,\r\n        },\r\n      };\r\n    },\r\n    queryStarted(query: QueryDetails) {\r\n      return {\r\n        type: \"QUERY_STARTED\",\r\n        payload: {\r\n          query,\r\n        },\r\n      };\r\n    },\r\n    removeData(identifiers: {\r\n      [key: string]:\r\n        | number\r\n        | string\r\n        | { id: string | number }\r\n        | Array<number | string | { id: string | number }>,\r\n    }) {\r\n      return {\r\n        type: \"DATA_REMOVED\",\r\n        payload: identifiers,\r\n      };\r\n    },\r\n    queryFailed(query: QueryDetails, errors: Array<Object>) {\r\n      return {\r\n        type: \"QUERY_FAILED\",\r\n        payload: {\r\n          query,\r\n          errors,\r\n        },\r\n      };\r\n    },\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/actions.js","\"use babel\";\r\n// @flow\r\n\r\nimport React from \"react\";\r\nimport { graphql, GraphQLSchema, getNamedType, print } from \"graphql\";\r\nimport { fromJS, List } from \"immutable\";\r\nimport { convertsGraphQLResultToRecords } from \"./graphqlTypesConverters\";\r\nimport {\r\n  hashString,\r\n  selectedDataHaveChanged,\r\n  hashMutationQuery,\r\n  generateUUID,\r\n} from \"./utils\";\r\nimport { QUERY_PROGRESS_NOT_STARTED, QueryRecord } from \"./reducer\";\r\nimport type { Record } from \"immutable\";\r\nimport Mutation from \"./Mutation\";\r\nimport { convertsQueryToSelectorQuery } from \"./selectors\";\r\n\r\ntype Props = Object;\r\n\r\ntype State = {\r\n  selectedData: ?Object,\r\n};\r\n\r\nexport default function configureConnecter(\r\n  {\r\n    typesSchema,\r\n    selectorSchema,\r\n    recordTypes,\r\n    reducerName = \"data\",\r\n    actions,\r\n  }: {\r\n    typesSchema: GraphQLSchema,\r\n    selectorSchema: GraphQLSchema,\r\n    recordTypes: { [typeName: string]: Record<any> },\r\n    reducerName?: string,\r\n    actions: { [actionName: string]: (...params: Array<any>) => Object },\r\n  } = {},\r\n) {\r\n  if (typesSchema === undefined) {\r\n    throw new Error(\r\n      \"You have to define a type schema, type schema is currently \" +\r\n        typesSchema,\r\n    );\r\n  }\r\n  if (selectorSchema === undefined) {\r\n    throw new Error(\r\n      \"You have to define a selector schema, selector schema is currently \" +\r\n        selectorSchema,\r\n    );\r\n  }\r\n\r\n  function DataHandlers({\r\n    mapMutationsToProps,\r\n  }: {\r\n    mapMutationsToProps: (\r\n      props: Props,\r\n    ) => {\r\n      [propName: string]: (...Array<mixed>) => Mutation,\r\n    },\r\n  }) {\r\n    return function DataHandlersHOC(\r\n      Comp: Class<React.Component<any, any, any>>,\r\n    ): Class<React.Component<any, any, any>> {\r\n      return class DataHandlersContainer extends React.Component<\r\n        any,\r\n        any,\r\n        any,\r\n      > {\r\n        id: string;\r\n        bustQueryCache: (handlerName: string) => void;\r\n\r\n        constructor(props) {\r\n          super(props);\r\n\r\n          this.id = props.__uniqueID || generateUUID();\r\n          this.bustQueryCache = this.bustQueryCache.bind(this);\r\n        }\r\n\r\n        getReducer(props) {\r\n          return props[reducerName];\r\n        }\r\n        getLinkedQueries(props) {\r\n          const reducer = this.getReducer(props);\r\n          const queries = reducer.queries;\r\n          const mutationsProps = mapMutationsToProps(props);\r\n          const names = Object.keys(mutationsProps);\r\n          const linkedQueries = names.map(name => ({\r\n            name,\r\n            query: queries.get(hashMutationQuery(name, this.id).toString()),\r\n          }));\r\n          return linkedQueries;\r\n        }\r\n\r\n        getLinkedQueryProps(props) {\r\n          const linkedQueries = this.getLinkedQueries(\r\n            props,\r\n          ).reduce((red, infos) => {\r\n            const queryProgressPropName = `${infos.name}QueryProgress`;\r\n            const queryResponsePropName = `${infos.name}QueryResponse`;\r\n            return {\r\n              ...red,\r\n              [queryProgressPropName]: infos.query\r\n                ? infos.query.progress\r\n                : QUERY_PROGRESS_NOT_STARTED,\r\n              [queryResponsePropName]: infos.query\r\n                ? infos.query.results.raw\r\n                : null,\r\n            };\r\n          }, {});\r\n          return linkedQueries;\r\n        }\r\n\r\n        componentWillUnmount() {\r\n          this.getLinkedQueries(this.props).forEach(info => {\r\n            this.bustQueryCache(info.name);\r\n          });\r\n        }\r\n\r\n        bustQueryCache(handlerName: string) {\r\n          this.props.dispatch(\r\n            actions.bustQueryCache(hashMutationQuery(handlerName, this.id)),\r\n          );\r\n        }\r\n\r\n        render() {\r\n          const reducer = this.getReducer(this.props);\r\n          if (!reducer)\r\n            throw new Error(\r\n              `DataHandlers must get the cache reducer as a props named '${reducerName}'`,\r\n            );\r\n\r\n          if (!this.props.dispatch)\r\n            throw new Error(\r\n              \"DataHandlers must get the dispatch function as props\",\r\n            );\r\n\r\n          const mutationsMap = mapMutationsToProps(this.props);\r\n          const handlers = Object.keys(mutationsMap).reduce((red, key) => {\r\n            if (typeof mutationsMap[key] !== \"function\") {\r\n              throw new Error(\r\n                `You must pass a function as handler of mapMutationsToProps, handler ${key} isn't a function`,\r\n              );\r\n            }\r\n            return {\r\n              ...red,\r\n              [key]: (...args) => {\r\n                const mutation = mutationsMap[key](...args);\r\n                if (mutation instanceof Mutation) {\r\n                  const action = actions.mutateData(\r\n                    mutation,\r\n                    hashMutationQuery(key, this.id),\r\n                  );\r\n                  this.props.dispatch(action);\r\n                } else if (mutation) {\r\n                  console.error(\r\n                    \"You have to return a Mutation from the handler defined in mapMutationsToProps,\",\r\n                    key,\r\n                    \"handler doesn't return a Mutation.\",\r\n                  );\r\n                } else {\r\n                  return;\r\n                }\r\n              },\r\n            };\r\n          }, {});\r\n          const queries = this.getLinkedQueryProps(this.props);\r\n          return (\r\n            <Comp\r\n              {...this.props}\r\n              {...handlers}\r\n              {...queries}\r\n              bustQueryCache={this.bustQueryCache}\r\n            />\r\n          );\r\n        }\r\n      };\r\n    };\r\n  }\r\n\r\n  function DataFetcher({\r\n    mapPropsToNeeds,\r\n    mapCacheToProps = () => ({}),\r\n    shouldRefetch = () => false,\r\n    queryProgressPropName = \"queryProgress\",\r\n  }: {\r\n    mapPropsToNeeds: (props: Props) => string,\r\n    mapCacheToProps?: (\r\n      cache: any,\r\n      props: Props,\r\n      selectedData: Object,\r\n    ) => Object,\r\n    shouldRefetch?: (props: Props, prevProps: Props) => boolean,\r\n    queryProgressPropName?: string,\r\n  }) {\r\n    return GraphQLConnecter(mapPropsToNeeds, mapCacheToProps, shouldRefetch, {\r\n      queryProgressPropName,\r\n    });\r\n  }\r\n\r\n  function GraphQLConnecter(\r\n    mapPropsToNeeds: (props: Props) => string,\r\n    mapCacheToProps: (\r\n      cache: any,\r\n      props: Props,\r\n      selectedData: Object,\r\n    ) => any = () => ({}),\r\n    shouldRefetch: (props: Props, prevProps: Props) => boolean = () => false,\r\n    {\r\n      queryProgressPropName = \"queryProgress\",\r\n    }: { queryProgressPropName?: string } = {},\r\n  ) {\r\n    return function(\r\n      WrappedComponent: Class<React.Component<any, any, any>>,\r\n    ): Class<React.Component<any, any, any>> {\r\n      return class GraphQLContainer extends React.Component<any, Props, any> {\r\n        props: Props;\r\n\r\n        constructor(props) {\r\n          super(props);\r\n\r\n          this.state = {\r\n            selectedData: {},\r\n            queryProgress: QUERY_PROGRESS_NOT_STARTED,\r\n          };\r\n        }\r\n\r\n        componentDidMount() {\r\n          this.getNeeds();\r\n          this.selectData(this.props);\r\n        }\r\n\r\n        getReducer(props) {\r\n          return props[reducerName];\r\n        }\r\n\r\n        mustReselectData(props, nextProps) {\r\n          const currentReducer = this.getReducer(props);\r\n          const nextReducer = this.getReducer(nextProps);\r\n          const currentNeeds = mapPropsToNeeds(props);\r\n          const nextNeeds = mapPropsToNeeds(nextProps);\r\n          if (nextNeeds !== currentNeeds) return true;\r\n          const hash =\r\n            currentNeeds != null ? hashString(currentNeeds).toString() : null;\r\n          if (hash != null) {\r\n            const nextQuery = nextReducer.getIn([\"queries\", hash]);\r\n            const currentQuery = currentReducer.getIn([\"queries\", hash]);\r\n            if (nextQuery !== currentQuery) return true;\r\n            else if (nextReducer.entities !== currentReducer.entities) {\r\n              return selectedDataHaveChanged({\r\n                schema: typesSchema,\r\n                query: currentNeeds,\r\n                queryHash: hash,\r\n                reducer1: currentReducer,\r\n                reducer2: nextReducer,\r\n              });\r\n            } else {\r\n              return false;\r\n            }\r\n          } else {\r\n            return false;\r\n          }\r\n        }\r\n\r\n        componentWillReceiveProps(nextProps: Props) {\r\n          if (this.mustReselectData(this.props, nextProps)) {\r\n            this.selectData(nextProps);\r\n          }\r\n        }\r\n\r\n        componentDidUpdate(prevProps: Props) {\r\n          if (\r\n            mapPropsToNeeds(this.props) != mapPropsToNeeds(prevProps) ||\r\n            shouldRefetch(this.props, prevProps)\r\n          ) {\r\n            this.getNeeds();\r\n          }\r\n        }\r\n\r\n        warnAgainstEmptyQuery() {\r\n          console.warn(\r\n            \"You have defined as needs {}, which is a wrong graphql query. If you want to avoid fetching, return null instead\",\r\n          );\r\n        }\r\n\r\n        selectData(props: Object) {\r\n          const query = mapPropsToNeeds(props);\r\n          const reducer = this.getReducer(props);\r\n          if (query === \"{}\" || query === \"{ }\") {\r\n            this.warnAgainstEmptyQuery();\r\n            this.resetSelection();\r\n          } else if (query != null) {\r\n            const hash = hashString(query).toString();\r\n            if (props.__debug) {\r\n              console.log(\r\n                \"SELECTING data for hash\",\r\n                hash,\r\n                \" -- date:\",\r\n                Date.now(),\r\n              );\r\n            }\r\n            graphql(\r\n              selectorSchema,\r\n              print(convertsQueryToSelectorQuery(query)),\r\n              null,\r\n              {\r\n                db: reducer,\r\n                queryHash: hash,\r\n              },\r\n            ).then(result => {\r\n              if (result.errors !== undefined || result.data == null) {\r\n                console.error(\r\n                  \"GraphQLConnecter: Impossible to select data. needs:\",\r\n                  query,\r\n                  \"errors:\",\r\n                  result.errors,\r\n                );\r\n              } else {\r\n                if (props.__debug) {\r\n                  console.log(\r\n                    \"SELECTED data\",\r\n                    result.data,\r\n                    \"for hash\",\r\n                    hash,\r\n                    \"with reducer\",\r\n                    reducer,\r\n                    \" -- date:\",\r\n                    Date.now(),\r\n                  );\r\n                }\r\n                const convertedData = convertsGraphQLResultToRecords(\r\n                  result.data,\r\n                  typesSchema,\r\n                  recordTypes,\r\n                );\r\n                const reducerChanged = this.getReducer(props) !== reducer;\r\n                if (props.__debug) {\r\n                  console.log(\r\n                    \"CONVERTED data\",\r\n                    result.data,\r\n                    \"into\",\r\n                    convertedData,\r\n                    \"for hash\",\r\n                    \"with reducer\",\r\n                    reducer,\r\n                    reducerChanged ? \"but reducer has changed to\" : \"\",\r\n                    reducerChanged ? this.getReducer(props) : \"\",\r\n                    reducerChanged ? \"relaunching selection\" : \"\",\r\n                  );\r\n                }\r\n                if (reducerChanged) {\r\n                  this.selectData(props);\r\n                } else {\r\n                  const queryProgress = reducer.getIn(\r\n                    [\"queries\", hash, \"progress\"],\r\n                    QUERY_PROGRESS_NOT_STARTED,\r\n                  );\r\n                  this.setState(state => ({\r\n                    selectedData: convertedData,\r\n                    queryProgress,\r\n                  }));\r\n                }\r\n              }\r\n            });\r\n          } else {\r\n            this.resetSelection();\r\n          }\r\n        }\r\n\r\n        resetSelection() {\r\n          this.setState(state => ({\r\n            selectedData: {},\r\n            queryProgress: QUERY_PROGRESS_NOT_STARTED,\r\n          }));\r\n        }\r\n\r\n        getNeeds() {\r\n          const needs = mapPropsToNeeds(this.props);\r\n          if (needs === \"{}\" || needs === \"{ }\") {\r\n            this.warnAgainstEmptyQuery();\r\n          } else if (needs != null) {\r\n            this.props.dispatch(actions.fetchData(needs));\r\n          }\r\n        }\r\n\r\n        render() {\r\n          const reducer = this.getReducer(this.props);\r\n          if (!reducer)\r\n            throw new Error(\r\n              `GraphQLConnecter must get the cache reducer as a props named '${reducerName}'`,\r\n            );\r\n          if (!this.props.dispatch)\r\n            throw new Error(\r\n              \"GraphQLConnecter must get the dispatch function as props\",\r\n            );\r\n          return (\r\n            <WrappedComponent\r\n              {...this.props}\r\n              {...this.state.selectedData}\r\n              {...mapCacheToProps(\r\n                this.props.data,\r\n                this.props,\r\n                this.state.selectedData,\r\n              )}\r\n              {...{\r\n                [queryProgressPropName]: this.state.queryProgress,\r\n              }}\r\n              refetch={() => this.getNeeds()}\r\n            />\r\n          );\r\n        }\r\n      };\r\n    };\r\n  }\r\n  return { GraphQLConnecter, DataHandlers, DataFetcher };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/hoc.js"],"sourceRoot":""}